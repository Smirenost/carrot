parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"../src/enums/ConnectionType.js":[function(require,module,exports) {
"use strict";var O;Object.defineProperty(exports,"__esModule",{value:!0}),exports.ConnectionType=void 0,function(O){O[O.NO_CONNECTION=0]="NO_CONNECTION",O[O.ALL_TO_ALL=1]="ALL_TO_ALL",O[O.ONE_TO_ONE=2]="ONE_TO_ONE",O[O.POOLING=3]="POOLING"}(O=exports.ConnectionType||(exports.ConnectionType={}));
},{}],"../src/enums/NodeType.js":[function(require,module,exports) {
"use strict";var e,o,N;Object.defineProperty(exports,"__esModule",{value:!0}),exports.NoiseNodeType=exports.PoolNodeType=exports.NodeType=void 0,function(e){e[e.INPUT=0]="INPUT",e[e.HIDDEN=1]="HIDDEN",e[e.OUTPUT=2]="OUTPUT"}(e=exports.NodeType||(exports.NodeType={})),function(e){e[e.MAX_POOLING=0]="MAX_POOLING",e[e.AVG_POOLING=1]="AVG_POOLING",e[e.MIN_POOLING=2]="MIN_POOLING"}(o=exports.PoolNodeType||(exports.PoolNodeType={})),function(e){e[e.GAUSSIAN_NOISE=0]="GAUSSIAN_NOISE"}(N=exports.NoiseNodeType||(exports.NoiseNodeType={}));
},{}],"../../node_modules/activations/build/src/index.js":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ALL_ACTIVATIONS=exports.GAUSSIAN=exports.Sinc=exports.Sinusiod=exports.SiLU=exports.BentIdentity=exports.SoftPlus=exports.LeakyRELU=exports.RELU=exports.SoftSign=exports.ArSinH=exports.ArcTan=exports.SQNL=exports.TANH=exports.Logistic=exports.BinaryStep=exports.Identitiy=void 0;const t=(t,o=!1)=>o?1:t;exports.Identitiy=t;const o=(t,o=!1)=>o?0:t<0?0:1;exports.BinaryStep=o;const s=(t,o=!1)=>{const s=Math.exp(-t);return o?1/(1+s)*(1-1/(1+s)):1/(1+s)};exports.Logistic=s;const e=(t,o=!1)=>o?1-Math.pow(Math.tanh(t),2):Math.tanh(t);exports.TANH=e;const p=(t,o=!1)=>o?t>2?0:t>=0?1-t/2:t>=-2?1+t/2:0:t>2?1:t>=0?t-Math.pow(t/2,2):t>=-2?t+Math.pow(t/2,2):-1;exports.SQNL=p;const r=(t,o=!1)=>o?1/(Math.pow(t,2)+1):Math.atan(t);exports.ArcTan=r;const a=(t,o=!1)=>o?1/Math.pow(Math.pow(t,2)+1,.5):Math.asinh(t);exports.ArSinH=a;const n=(t,o=!1)=>o?1/Math.pow(1+Math.abs(t),2):t/(1+Math.abs(t));exports.SoftSign=n;const x=(t,o=!1)=>o?t>0?1:0:t>0?t:0;exports.RELU=x;const h=(t,o=!1)=>o?t>0?1:.01:t>0?t:.01*t;exports.LeakyRELU=h;const M=(t,o=!1)=>o?1/(1+Math.exp(-t)):Math.log(1+Math.exp(t));exports.SoftPlus=M;const i=(t,o=!1)=>o?t/(2*Math.pow(Math.pow(t,2)+1,.5))+1:(Math.pow(Math.pow(t,2)+1,.5)-1)/2+t;exports.BentIdentity=i;const c=(t,o=!1)=>{const s=Math.exp(-t);return o?(1+s+t*s)/Math.pow(1+s,2):t/(1+s)};exports.SiLU=c;const S=(t,o=!1)=>o?Math.cos(t):Math.sin(t);exports.Sinusiod=S;const A=(t,o=!1)=>o?0===t?0:Math.cos(t)/t-Math.sin(t)/Math.pow(t,2):0===t?1:Math.sin(t)/t;exports.Sinc=A;const L=(t,o=!1)=>o?-2*t*Math.exp(-Math.pow(t,2)):1/Math.exp(Math.pow(t,2));exports.GAUSSIAN=L,exports.ALL_ACTIVATIONS=[t,o,s,e,p,r,a,n,x,h,M,i,c,S,A,L];
},{}],"../src/utils/Utils.js":[function(require,module,exports) {
"use strict";function r(n){if(Array.isArray(n)){if(0===n.length)throw new RangeError("Cannot pick from an empty array");return n[e(0,n.length)]}return r(Array.from(n))}function e(r,e){return Math.floor(Math.random()*(e-r)+r)}function n(r,e){return Math.random()*(e-r)+r}function t(){return Math.random()>=.5}function o(r,e){var n=r.indexOf(e);return-1!==n&&(r.splice(n,1),!0)}function a(r){for(var n=r.length-1;n>0;n--){var t=e(0,n),o=r[n];r[n]=r[t],r[t]=o}}function i(r){if(0===r.length)throw new RangeError;for(var e=r[0],n=1;n<r.length;n++)r[n]>e&&(e=r[n]);return e}function u(r){if(0===r.length)throw new RangeError;for(var e=r[0],n=0,t=1;t<r.length;t++)r[t]>e&&(e=r[t],n=t);return n}function s(r){if(0===r.length)throw new RangeError;for(var e=r[0],n=0,t=1;t<r.length;t++)r[t]<e&&(e=r[t],n=t);return n}function f(r){if(0===r.length)throw new RangeError;for(var e=r[0],n=1;n<r.length;n++)r[n]<e&&(e=r[n]);return e}function x(r){return l(r)/r.length}function l(r){if(0===r.length)throw new RangeError;var e=0,n=!0,t=!1,o=void 0;try{for(var a,i=r[Symbol.iterator]();!(n=(a=i.next()).done);n=!0){e+=a.value}}catch(u){t=!0,o=u}finally{try{n||null==i.return||i.return()}finally{if(t)throw o}}return e}function p(){for(var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=0,t=0;t<10;t++)n+=Math.random();return e*n/10+r-.5*e}function h(r,e){return.5*(r+e)*(r+e+1)+e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.pairing=exports.generateGaussian=exports.avg=exports.sum=exports.min=exports.minValueIndex=exports.maxValueIndex=exports.max=exports.shuffle=exports.removeFromArray=exports.randBoolean=exports.randDouble=exports.randInt=exports.pickRandom=void 0,exports.pickRandom=r,exports.randInt=e,exports.randDouble=n,exports.randBoolean=t,exports.removeFromArray=o,exports.shuffle=a,exports.max=i,exports.maxValueIndex=u,exports.minValueIndex=s,exports.min=f,exports.avg=x,exports.sum=l,exports.generateGaussian=p,exports.pairing=h;
},{}],"../src/methods/Mutation.js":[function(require,module,exports) {
"use strict";function t(n){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(n)}function n(t,n){for(var e=0;e<n.length;e++){var o=n[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function e(t,e,o){return e&&n(t.prototype,e),o&&n(t,o),t}function o(n,e){return!e||"object"!==t(e)&&"function"!=typeof e?i(n):e}function i(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function r(t){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&a(t,n)}function a(t,n){return(a=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function s(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.SwapNodesMutation=exports.SubBackConnectionMutation=exports.AddBackConnectionMutation=exports.SubSelfConnectionMutation=exports.AddSelfConnectionMutation=exports.SubGateMutation=exports.AddGateMutation=exports.ModActivationMutation=exports.ModBiasMutation=exports.ModWeightMutation=exports.SubConnectionMutation=exports.AddConnectionMutation=exports.SubNodeMutation=exports.AddNodeMutation=exports.Mutation=exports.ONLY_STRUCTURE=exports.NO_STRUCTURE_MUTATIONS=exports.FEEDFORWARD_MUTATIONS=exports.ALL_MUTATIONS=void 0;var c=require("../architecture/Node"),f=require("../enums/NodeType"),d=require("../utils/Utils"),l=function t(){s(this,t)};exports.Mutation=l;var p=function(t){function n(){var t,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return s(this,n),(t=o(this,r(n).call(this))).randomActivation=e,t}return u(n,l),e(n,[{key:"mutate",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!(void 0!==n.maxNodes&&t.nodes.length>=n.maxNodes)){var e=new c.Node(f.NodeType.HIDDEN);this.randomActivation&&e.mutateActivation();var o=d.pickRandom(Array.from(t.connections)),i=o.from,r=o.to;t.disconnect(i,r);var u=Math.max(t.inputSize,1+t.nodes.indexOf(i));t.nodes.splice(u,0,e);var a=t.connect(i,e,1),s=t.connect(e,r,o.weight);null!==o.gateNode&&(d.randBoolean()?t.addGate(o.gateNode,a):t.addGate(o.gateNode,s))}}}]),n}();exports.AddNodeMutation=p;var v=function(t){function n(){var t,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return s(this,n),(t=o(this,r(n).call(this))).keepGates=e,t}return u(n,l),e(n,[{key:"mutate",value:function(t){var n=t.nodes.filter(function(t){return void 0!==t&&t.isHiddenNode()});n.length>0&&t.removeNode(d.pickRandom(n),this.keepGates)}}]),n}();exports.SubNodeMutation=v;var h=function(t){function n(){return s(this,n),o(this,r(n).apply(this,arguments))}return u(n,l),e(n,[{key:"mutate",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!(void 0!==n.maxConnections&&t.connections.size>=n.maxConnections)){for(var e=[],o=0;o<t.nodes.length-t.outputSize;o++)for(var i=t.nodes[o],r=Math.max(o+1,t.inputSize);r<t.nodes.length;r++){var u=t.nodes[r];i.isProjectingTo(u)||e.push([i,u])}if(e.length>0){var a=d.pickRandom(e);t.connect(a[0],a[1])}}}}]),n}();exports.AddConnectionMutation=h;var m=function(t){function n(){return s(this,n),o(this,r(n).apply(this,arguments))}return u(n,l),e(n,[{key:"mutate",value:function(t){var n=Array.from(t.connections).filter(function(t){return t.from.outgoing.size>1}).filter(function(t){return t.to.incoming.size>1}).filter(function(n){return t.nodes.indexOf(n.to)>t.nodes.indexOf(n.from)});if(n.length>0){var e=d.pickRandom(n);t.disconnect(e.from,e.to)}}}]),n}();exports.SubConnectionMutation=m;var y=function(t){function n(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return s(this,n),(t=o(this,r(n).call(this))).min=e,t.max=i,t}return u(n,l),e(n,[{key:"mutate",value:function(t){d.pickRandom(Array.from(t.connections)).weight+=d.randDouble(this.min,this.max)}}]),n}();exports.ModWeightMutation=y;var x=function(t){function n(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return s(this,n),(t=o(this,r(n).call(this))).min=e,t.max=i,t}return u(n,l),e(n,[{key:"mutate",value:function(t){d.pickRandom(t.nodes.filter(function(t){return!t.isInputNode()})).mutateBias(this)}}]),n}();exports.ModBiasMutation=x;var g=function(t){function n(){var t,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return s(this,n),(t=o(this,r(n).call(this))).mutateOutput=e,t}return u(n,l),e(n,[{key:"mutate",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=this.mutateOutput?t.nodes.filter(function(t){return!t.isInputNode()}):t.nodes.filter(function(t){return t.isHiddenNode()});e.length>0&&d.pickRandom(e).mutateActivation(n.allowedActivations)}}]),n}();exports.ModActivationMutation=g;var w=function(t){function n(){return s(this,n),o(this,r(n).apply(this,arguments))}return u(n,l),e(n,[{key:"mutate",value:function(t){var n=t.nodes.filter(function(t){return!t.isInputNode()}).filter(function(t){return 0===t.selfConnection.weight});if(n.length>0){var e=d.pickRandom(n);t.connect(e,e)}}}]),n}();exports.AddSelfConnectionMutation=w;var M=function(t){function n(){return s(this,n),o(this,r(n).apply(this,arguments))}return u(n,l),e(n,[{key:"mutate",value:function(t){var n=Array.from(t.connections).filter(function(t){return t.from===t.to});if(n.length>0){var e=d.pickRandom(n);t.disconnect(e.from,e.to)}}}]),n}();exports.SubSelfConnectionMutation=M;var b=function(t){function n(){return s(this,n),o(this,r(n).apply(this,arguments))}return u(n,l),e(n,[{key:"mutate",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!(void 0!==n.maxGates&&t.gates.size>=n.maxGates)){var e=Array.from(t.connections).filter(function(t){return null===t.gateNode});if(e.length>0){var o=d.pickRandom(t.nodes.filter(function(t){return!t.isInputNode()})),i=d.pickRandom(e);t.addGate(o,i)}}}}]),n}();exports.AddGateMutation=b;var k=function(t){function n(){return s(this,n),o(this,r(n).apply(this,arguments))}return u(n,l),e(n,[{key:"mutate",value:function(t){t.gates.size>0&&t.removeGate(d.pickRandom(Array.from(t.gates)))}}]),n}();exports.SubGateMutation=k;var S=function(t){function n(){return s(this,n),o(this,r(n).apply(this,arguments))}return u(n,l),e(n,[{key:"mutate",value:function(t){for(var n=[],e=t.inputSize;e<t.nodes.length;e++)for(var o=t.nodes[e],i=t.inputSize;i<e;i++){var r=t.nodes[i];o.isProjectingTo(r)||n.push([o,r])}if(n.length>0){var u=d.pickRandom(n);t.connect(u[0],u[1])}}}]),n}();exports.AddBackConnectionMutation=S;var N=function(t){function n(){return s(this,n),o(this,r(n).apply(this,arguments))}return u(n,l),e(n,[{key:"mutate",value:function(t){var n=Array.from(t.connections).filter(function(t){return t.from.outgoing.size>1}).filter(function(t){return t.to.incoming.size>1}).filter(function(n){return t.nodes.indexOf(n.from)>t.nodes.indexOf(n.to)});if(n.length>0){var e=d.pickRandom(n);t.disconnect(e.from,e.to)}}}]),n}();exports.SubBackConnectionMutation=N;var A=function(t){function n(){var t,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return s(this,n),(t=o(this,r(n).call(this))).mutateOutput=e,t}return u(n,l),e(n,[{key:"mutate",value:function(t){var n=this.mutateOutput?t.nodes.filter(function(t){return void 0!==t&&!t.isInputNode()}):t.nodes.filter(function(t){return void 0!==t&&t.isHiddenNode()});if(n.length>=2){var e=d.pickRandom(n),o=d.pickRandom(n.filter(function(t){return t!==e})),i=e.bias,r=e.squash;e.bias=o.bias,e.squash=o.squash,o.bias=i,o.squash=r}}}]),n}();exports.SwapNodesMutation=A;var O=[new p,new v,new h,new m,new y,new x,new g,new b,new k,new w,new M,new S,new N,new A];exports.ALL_MUTATIONS=O;var R=[new p,new v,new h,new m,new y,new x,new g,new A];exports.FEEDFORWARD_MUTATIONS=R;var T=[new y,new x,new g];exports.NO_STRUCTURE_MUTATIONS=T;var C=[new p,new v,new h,new m,new b,new k,new w,new M,new S,new N,new A];exports.ONLY_STRUCTURE=C;
},{"../architecture/Node":"../src/architecture/Node.js","../enums/NodeType":"../src/enums/NodeType.js","../utils/Utils":"../src/utils/Utils.js"}],"../src/architecture/Connection.js":[function(require,module,exports) {
"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Connection=void 0;var n=require("../utils/Utils"),o=function(){function t(i,n,o,r){e(this,t),this.from=i,this.to=n,this.weight=null!=o?o:0,this.gain=1,this.eligibility=0,this.deltaWeightsPrevious=0,this.deltaWeightsTotal=0,this.xTrace=new Map,r?(this.gateNode=r,r.addGate(this)):this.gateNode=null}return i(t,[{key:"toJSON",value:function(){return{fromIndex:this.from.index,toIndex:this.to.index,gateNodeIndex:null===this.gateNode?null:this.gateNode.index,weight:this.weight}}},{key:"getInnovationID",value:function(){return n.pairing(this.from.index,this.to.index)}}]),t}();exports.Connection=o;
},{"../utils/Utils":"../src/utils/Utils.js"}],"../src/architecture/Node.js":[function(require,module,exports) {
"use strict";function t(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function i(t,i){for(var e=0;e<i.length;e++){var n=i[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function e(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Node=void 0;var n=require("activations/build/src"),o=require("../enums/NodeType"),s=require("../methods/Mutation"),a=require("../utils/Utils"),r=require("./Connection"),h=function(){function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.NodeType.HIDDEN;t(this,i),this.type=e,this.bias=a.randDouble(-1,1),this.squash=n.Logistic,this.activation=0,this.derivativeState=1,this.state=0,this.old=0,this.mask=1,this.deltaBiasPrevious=0,this.deltaBiasTotal=0,this.incoming=new Set,this.outgoing=new Set,this.gated=new Set,this.selfConnection=new r.Connection(this,this,0),this.errorResponsibility=0,this.errorProjected=0,this.errorGated=0,this.index=NaN}return e(i,[{key:"fromJSON",value:function(t){var i,e,o,s;return this.bias=null!==(i=t.bias)&&void 0!==i?i:a.randDouble(-1,1),this.type=t.type,this.squash=null!==(e=t.squash)&&void 0!==e?e:n.Logistic,this.mask=null!==(o=t.mask)&&void 0!==o?o:1,this.index=null!==(s=t.index)&&void 0!==s?s:NaN,this}},{key:"clear",value:function(){this.incoming.forEach(function(t){t.eligibility=0,t.xTrace.clear()}),this.gated.forEach(function(t){return t.gain=0}),this.errorResponsibility=this.errorProjected=this.errorGated=0,this.old=this.state=this.activation=0}},{key:"mutateBias",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new s.ModBiasMutation;this.bias+=a.randDouble(t.min,t.max)}},{key:"mutateActivation",value:function(){var t=this,i=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object.values(n.ALL_ACTIVATIONS)).filter(function(i){return i!==t.squash});i.length>0&&(this.squash=a.pickRandom(i))}},{key:"isProjectedBy",value:function(t){return t===this?0!==this.selfConnection.weight:Array.from(this.incoming).map(function(t){return t.from}).includes(t)}},{key:"isProjectingTo",value:function(t){return t===this?0!==this.selfConnection.weight:Array.from(this.outgoing).map(function(t){return t.to}).includes(t)}},{key:"addGate",value:function(t){this.gated.add(t),t.gateNode=this}},{key:"removeGate",value:function(t){this.gated.delete(t),t.gateNode=null,t.gain=1}},{key:"connect",value:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,e=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(t===this)return this.selfConnection.weight=i,this.selfConnection;if(this.isProjectingTo(t))throw new ReferenceError("There is already a connection!");var n=new r.Connection(this,t,i);return this.outgoing.add(n),t.incoming.add(n),e&&t.connect(this),n}},{key:"disconnect",value:function(t){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t===this)return this.selfConnection.weight=0,this.selfConnection;var e=Array.from(this.outgoing).filter(function(i){return i.to===t});if(0===e.length)throw new Error("No Connection found");var n=e[0];return this.outgoing.delete(n),n.to.incoming.delete(n),void 0!==n.gateNode&&null!==n.gateNode&&n.gateNode.removeGate(n),i&&t.disconnect(this),n}},{key:"propagate",value:function(t){var i,e,n,o=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};s.momentum=null!==(i=s.momentum)&&void 0!==i?i:0,s.rate=null!==(e=s.rate)&&void 0!==e?e:.3,s.update=null===(n=s.update)||void 0===n||n,void 0!==t&&Number.isFinite(t)?this.errorResponsibility=this.errorProjected=t-this.activation:(this.errorProjected=0,this.outgoing.forEach(function(t){o.errorProjected+=t.to.errorResponsibility*t.weight*t.gain}),this.errorProjected*=this.derivativeState,this.errorGated=0,this.gated.forEach(function(t){var i;i=t.to.selfConnection.gateNode===o?t.to.old+t.weight*t.from.activation:t.weight*t.from.activation,o.errorGated+=t.to.errorResponsibility*i}),this.errorGated*=this.derivativeState,this.errorResponsibility=this.errorProjected+this.errorGated),this.incoming.forEach(function(t){var i,e,n=o.errorProjected*t.eligibility;t.xTrace.forEach(function(t,i){return n+=i.errorResponsibility*t}),t.deltaWeightsTotal+=(null!==(i=s.rate)&&void 0!==i?i:.3)*n*o.mask,s.update&&(t.deltaWeightsTotal+=(null!==(e=s.momentum)&&void 0!==e?e:0)*t.deltaWeightsPrevious,t.weight+=t.deltaWeightsTotal,t.deltaWeightsPrevious=t.deltaWeightsTotal,t.deltaWeightsTotal=0)}),this.deltaBiasTotal+=s.rate*this.errorResponsibility,s.update&&(this.deltaBiasTotal+=s.momentum*this.deltaBiasPrevious,this.bias+=this.deltaBiasTotal,this.deltaBiasPrevious=this.deltaBiasTotal,this.deltaBiasTotal=0)}},{key:"activate",value:function(t){var i=this,e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(void 0!==t)return this.activation=t;if(this.isInputNode())throw new ReferenceError("There is no input given to an input node!");if(e){this.old=this.state,this.state=this.selfConnection.gain*this.selfConnection.weight*this.state+this.bias,this.incoming.forEach(function(t){i.state+=t.from.activation*t.weight*t.gain}),this.activation=this.squash(this.state,!1)*this.mask,this.derivativeState=this.squash(this.state,!0);var n=[],o=[];return this.gated.forEach(function(t){t.gain=i.activation;var e=n.indexOf(t.to);e>-1?o[e]+=t.weight*t.from.activation:(n.push(t.to),t.to.selfConnection.gateNode===i?o.push(t.weight*t.from.activation+t.to.old):o.push(t.weight*t.from.activation))}),this.incoming.forEach(function(t){var e;t.eligibility=i.selfConnection.gain*i.selfConnection.weight*t.eligibility+t.from.activation*t.gain;for(var s=0;s<n.length;s++){var a=n[s],r=o[s];t.xTrace.has(a)?t.xTrace.set(a,a.selfConnection.gain*a.selfConnection.weight*(null!==(e=t.xTrace.get(a))&&void 0!==e?e:0)+i.derivativeState*t.eligibility*r):t.xTrace.set(a,i.derivativeState*t.eligibility*r)}}),this.activation}return this.isInputNode()?this.activation=0:(this.state=this.selfConnection.gain*this.selfConnection.weight*this.state+this.bias,this.incoming.forEach(function(t){return i.state+=t.from.activation*t.weight*t.gain}),this.activation=this.squash(this.state,!1),this.gated.forEach(function(t){return t.gain=i.activation}),this.activation)}},{key:"toJSON",value:function(){return{bias:this.bias,type:this.type,squash:this.squash,mask:this.mask,index:this.index}}},{key:"isInputNode",value:function(){return this.type===o.NodeType.INPUT}},{key:"isHiddenNode",value:function(){return this.type===o.NodeType.HIDDEN}},{key:"isOutputNode",value:function(){return this.type===o.NodeType.OUTPUT}},{key:"setBias",value:function(t){return this.bias=t,this}},{key:"setActivationType",value:function(t){return this.squash=t,this}}]),i}();exports.Node=h;
},{"activations/build/src":"../../node_modules/activations/build/src/index.js","../enums/NodeType":"../src/enums/NodeType.js","../methods/Mutation":"../src/methods/Mutation.js","../utils/Utils":"../src/utils/Utils.js","./Connection":"../src/architecture/Connection.js"}],"../src/enums/GatingType.js":[function(require,module,exports) {
"use strict";var e;Object.defineProperty(exports,"__esModule",{value:!0}),exports.GatingType=void 0,function(e){e[e.INPUT=0]="INPUT",e[e.SELF=1]="SELF",e[e.OUTPUT=2]="OUTPUT"}(e=exports.GatingType||(exports.GatingType={}));
},{}],"../src/architecture/Layers/Layer.js":[function(require,module,exports) {
"use strict";function n(n){return r(n)||t(n)||e()}function e(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function t(n){if(Symbol.iterator in Object(n)||"[object Arguments]"===Object.prototype.toString.call(n))return Array.from(n)}function r(n){if(Array.isArray(n)){for(var e=0,t=new Array(n.length);e<n.length;e++)t[e]=n[e];return t}}function o(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function i(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,r.key,r)}}function a(n,e,t){return e&&i(n.prototype,e),t&&i(n,t),n}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Layer=void 0;var c=require("../../enums/ConnectionType"),u=require("../../enums/GatingType"),f=function(){function e(n){o(this,e),this.outputSize=n,this.nodes=[],this.inputNodes=new Set,this.outputNodes=new Set,this.connections=[],this.gates=[]}return a(e,null,[{key:"connect",value:function(t,r){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c.ConnectionType.ALL_TO_ALL,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;if(o===c.ConnectionType.NO_CONNECTION)throw new ReferenceError("Cannot connect with 'NO_CONNECTION' connection type");var a=Array.from(t instanceof e?t.outputNodes:t),u=Array.from(r instanceof e?r.inputNodes:r);if(0===u.length)throw new ReferenceError("Target from has no input nodes!");if(0===a.length)throw new ReferenceError("This from has no output nodes!");var f=[];if(o===c.ConnectionType.ALL_TO_ALL)a.forEach(function(n){u.forEach(function(e){f.push(n.connect(e,i))})});else if(o===c.ConnectionType.ONE_TO_ONE){if(a.length!==u.length)throw new RangeError("Can't connect one to one! Number of output nodes from are unequal number of incoming nodes from next layer!");for(var s=0;s<a.length;s++)f.push(a[s].connect(u[s],i))}else if(o===c.ConnectionType.POOLING){var l=u.length/a.length;f.push.apply(f,n(a.map(function(n,e){return n.connect(u[Math.floor(e*l)],i)})))}return f}},{key:"gate",value:function(n,e,t){var r=[];switch(t){case u.GatingType.INPUT:for(var o=Array.from(new Set(e.map(function(n){return n.to}))),i=function(t){var i=o[t],a=n[t%n.length];i.incoming.forEach(function(n){e.includes(n)&&(a.addGate(n),r.push(n))})},a=0;a<o.length;a++)i(a);break;case u.GatingType.SELF:for(var c=Array.from(new Set(e.map(function(n){return n.from}))),f=0;f<c.length;f++)e.includes(c[f].selfConnection)&&(n[f%n.length].addGate(c[f].selfConnection),r.push(c[f].selfConnection));break;case u.GatingType.OUTPUT:for(var s=Array.from(new Set(e.map(function(n){return n.from}))),l=function(t){var o=s[t],i=n[t%n.length];o.outgoing.forEach(function(n){e.includes(n)&&(i.addGate(n),r.push(n))})},h=0;h<s.length;h++)l(h)}return r}}]),e}();exports.Layer=f;
},{"../../enums/ConnectionType":"../src/enums/ConnectionType.js","../../enums/GatingType":"../src/enums/GatingType.js"}],"../src/architecture/Nodes/ConstantNode.js":[function(require,module,exports) {
"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function o(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}function r(t,n){return!n||"object"!==e(n)&&"function"!=typeof n?i(t):n}function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ConstantNode=void 0;var f=require("activations/build/src"),s=require("../../enums/NodeType"),l=require("../Node"),p=function(e){function n(){var e;return t(this,n),(e=r(this,u(n).call(this,s.NodeType.HIDDEN))).bias=1,e}return a(n,l.Node),o(n,[{key:"fromJSON",value:function(e){var t,n;return this.index=null!==(t=e.index)&&void 0!==t?t:-1,this.squash=null!==(n=e.squash)&&void 0!==n?n:f.Identitiy,this}},{key:"toJSON",value:function(){return{index:this.index,squash:this.squash}}},{key:"mutateBias",value:function(){throw new ReferenceError("Cannot mutate a pool node!")}},{key:"mutateActivation",value:function(){throw new ReferenceError("Cannot mutate a pool node!")}},{key:"addGate",value:function(){throw new ReferenceError("A pool node can't gate a connection!")}},{key:"removeGate",value:function(){throw new ReferenceError("A pool node can't gate a connection!")}},{key:"setBias",value:function(){throw new ReferenceError("Cannot set the bias of a pool node!")}}]),n}();exports.ConstantNode=p;
},{"activations/build/src":"../../node_modules/activations/build/src/index.js","../../enums/NodeType":"../src/enums/NodeType.js","../Node":"../src/architecture/Node.js"}],"../src/architecture/Nodes/NoiseNode.js":[function(require,module,exports) {
"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var o=0;o<e.length;o++){var i=e[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function i(t,e,i){return e&&o(t.prototype,e),i&&o(t,i),t}function n(e,o){return!o||"object"!==t(o)&&"function"!=typeof o?r(e):o}function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.NoiseNode=void 0;var l=require("../../enums/NodeType"),c=require("../../utils/Utils"),f=require("./ConstantNode"),h=function(t){function o(){var t,i,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e(this,o),(t=n(this,a(o).call(this))).noiseType=null!==(i=r.noiseType)&&void 0!==i?i:l.NoiseNodeType.GAUSSIAN_NOISE,t.options=r,t}return s(o,f.ConstantNode),i(o,[{key:"activate",value:function(){var t,e,o,i;this.old=this.state;var n=Array.from(this.incoming).map(function(t){return t.from.activation*t.weight*t.gain});switch(this.noiseType){case l.NoiseNodeType.GAUSSIAN_NOISE:this.state=c.avg(n)+c.generateGaussian(null!==(e=null===(t=this.options.gaussian)||void 0===t?void 0:t.mean)&&void 0!==e?e:0,null!==(i=null===(o=this.options.gaussian)||void 0===o?void 0:o.deviation)&&void 0!==i?i:2);break;default:throw new ReferenceError("Cannot activate this noise type!")}return this.activation=this.squash(this.state,!1)*this.mask,this.derivativeState=this.squash(this.state,!0),this.activation}},{key:"propagate",value:function(t){var e,o,i,n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r.momentum=null!==(e=r.momentum)&&void 0!==e?e:0,r.rate=null!==(o=r.rate)&&void 0!==o?o:.3,r.update=null===(i=r.update)||void 0===i||i;var a=Array.from(this.outgoing).map(function(t){return t.to.errorResponsibility*t.weight*t.gain});this.errorResponsibility=this.errorProjected=c.sum(a)*this.derivativeState,this.incoming.forEach(function(t){var e,o,i=n.errorProjected*t.eligibility;t.xTrace.forEach(function(t,e){i+=e.errorResponsibility*t}),t.deltaWeightsTotal+=(null!==(e=r.rate)&&void 0!==e?e:.3)*i*n.mask,r.update&&(t.deltaWeightsTotal+=(null!==(o=r.momentum)&&void 0!==o?o:0)*t.deltaWeightsPrevious,t.weight+=t.deltaWeightsTotal,t.deltaWeightsPrevious=t.deltaWeightsTotal,t.deltaWeightsTotal=0)})}}]),o}();exports.NoiseNode=h;
},{"../../enums/NodeType":"../src/enums/NodeType.js","../../utils/Utils":"../src/utils/Utils.js","./ConstantNode":"../src/architecture/Nodes/ConstantNode.js"}],"../src/architecture/Layers/NoiseLayers/NoiseLayer.js":[function(require,module,exports) {
"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e){return r(e)||o(e)||n()}function n(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function o(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function r(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function c(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}function a(t,n){return!n||"object"!==e(n)&&"function"!=typeof n?f(t):n}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.NoiseLayer=void 0;var l=require("activations/build/src"),b=require("../../../enums/ConnectionType"),d=require("../../../enums/NodeType"),N=require("../../Nodes/NoiseNode"),O=require("../Layer"),v=function(e){function n(e){var o,r,u,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,n),r=a(this,p(n).call(this,e));for(var f=null!==(u=c.activation)&&void 0!==u?u:l.Identitiy,s=0;s<e;s++)r.inputNodes.add(new N.NoiseNode({noiseType:d.NoiseNodeType.GAUSSIAN_NOISE,gaussian:c}).setActivationType(f));return r.outputNodes=r.inputNodes,(o=r.nodes).push.apply(o,t(Array.from(r.inputNodes))),r}return s(n,O.Layer),c(n,[{key:"getDefaultIncomingConnectionType",value:function(){return b.ConnectionType.ONE_TO_ONE}},{key:"connectionTypeisAllowed",value:function(e){return e===b.ConnectionType.ONE_TO_ONE}}]),n}();exports.NoiseLayer=v;
},{"activations/build/src":"../../node_modules/activations/build/src/index.js","../../../enums/ConnectionType":"../src/enums/ConnectionType.js","../../../enums/NodeType":"../src/enums/NodeType.js","../../Nodes/NoiseNode":"../src/architecture/Nodes/NoiseNode.js","../Layer":"../src/architecture/Layers/Layer.js"}],"../src/architecture/Layers/CoreLayers/InputLayer.js":[function(require,module,exports) {
"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e){return r(e)||o(e)||n()}function n(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function o(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function r(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function c(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function a(t,n){return!n||"object"!==e(n)&&"function"!=typeof n?f(t):n}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.InputLayer=void 0;var l=require("../../../enums/ConnectionType"),b=require("../../../enums/NodeType"),d=require("../../Node"),h=require("../Layer"),N=require("../NoiseLayers/NoiseLayer"),O=function(e){function n(e){var o,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};u(this,n),o=a(this,p(n).call(this,e));for(var i=0;i<e;i++){var c=new d.Node(b.NodeType.INPUT);o.nodes.push(c)}if(r.noise){var f,y=new N.NoiseLayer(r.noise);y.outputNodes.forEach(function(e){return o.outputNodes.add(e)}),(f=o.connections).push.apply(f,t(h.Layer.connect(o.nodes,y,y.getDefaultIncomingConnectionType())))}else o.nodes.forEach(function(e){return o.outputNodes.add(e)});return o}return y(n,h.Layer),c(n,[{key:"getDefaultIncomingConnectionType",value:function(){return l.ConnectionType.NO_CONNECTION}},{key:"connectionTypeisAllowed",value:function(e){return e===l.ConnectionType.NO_CONNECTION}}]),n}();exports.InputLayer=O;
},{"../../../enums/ConnectionType":"../src/enums/ConnectionType.js","../../../enums/NodeType":"../src/enums/NodeType.js","../../Node":"../src/architecture/Node.js","../Layer":"../src/architecture/Layers/Layer.js","../NoiseLayers/NoiseLayer":"../src/architecture/Layers/NoiseLayers/NoiseLayer.js"}],"../src/architecture/Layers/CoreLayers/OutputLayer.js":[function(require,module,exports) {
"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e){return o(e)||r(e)||n()}function n(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function r(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function o(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}function a(t,n){return!n||"object"!==e(n)&&"function"!=typeof n?f(t):n}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.OutputLayer=void 0;var s=require("activations/build/src"),b=require("../../../enums/ConnectionType"),d=require("../../../enums/NodeType"),v=require("../../Node"),m=require("../Layer"),O=function(e){function n(e){var r,o,u,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,n),o=a(this,y(n).call(this,e));for(var f=null!==(u=c.activation)&&void 0!==u?u:s.Identitiy,p=0;p<e;p++)o.inputNodes.add(new v.Node(d.NodeType.OUTPUT).setActivationType(f));return(r=o.nodes).push.apply(r,t(Array.from(o.inputNodes))),o}return p(n,m.Layer),c(n,[{key:"connect",value:function(){throw new ReferenceError("Could not connect an OutputLayer!")}},{key:"connectionTypeisAllowed",value:function(){return!0}},{key:"getDefaultIncomingConnectionType",value:function(){return b.ConnectionType.ALL_TO_ALL}}]),n}();exports.OutputLayer=O;
},{"activations/build/src":"../../node_modules/activations/build/src/index.js","../../../enums/ConnectionType":"../src/enums/ConnectionType.js","../../../enums/NodeType":"../src/enums/NodeType.js","../../Node":"../src/architecture/Node.js","../Layer":"../src/architecture/Layers/Layer.js"}],"../../node_modules/threads/dist-esm/serializers.js":[function(require,module,exports) {
"use strict";function e(e,r){const i=e.deserialize.bind(e),a=e.serialize.bind(e);return{deserialize:e=>r.deserialize(e,i),serialize:e=>r.serialize(e,a)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.extendSerializer=e,exports.DefaultSerializer=void 0;const r={deserialize:e=>Object.assign(Error(e.message),{name:e.name,stack:e.stack}),serialize:e=>({__error_marker:"$$error",message:e.message,name:e.name,stack:e.stack})},i=e=>e&&"object"==typeof e&&"__error_marker"in e&&"$$error"===e.__error_marker,a={deserialize:e=>i(e)?r.deserialize(e):e,serialize:e=>e instanceof Error?r.serialize(e):e};exports.DefaultSerializer=a;
},{}],"../../node_modules/threads/dist-esm/common.js":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.registerSerializer=i,exports.deserialize=t,exports.serialize=s;var e=require("./serializers");let r=e.DefaultSerializer;function i(i){r=(0,e.extendSerializer)(r,i)}function t(e){return r.deserialize(e)}function s(e){return r.serialize(e)}
},{"./serializers":"../../node_modules/threads/dist-esm/serializers.js"}],"../../node_modules/threads/dist-esm/master/get-bundle-url.browser.js":[function(require,module,exports) {
"use strict";let e;function t(){return e||(e=n()),e}function n(){try{throw new Error}catch(e){const t=(""+e.stack).match(/(https?|file|ftp|chrome-extension|moz-extension):\/\/[^)\n]+/g);if(t)return r(t[0])}return"/"}function r(e){return(""+e).replace(/^((?:https?|file|ftp|chrome-extension|moz-extension):\/\/.+)?\/[^/]+(?:\?.*)?$/,"$1")+"/"}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getBaseURL=r,exports.getBundleURL=t;
},{}],"../../node_modules/threads/dist-esm/master/implementation.browser.js":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.selectWorkerImplementation=n,exports.defaultPoolSize=void 0;var e=require("./get-bundle-url.browser");const r="undefined"!=typeof navigator&&navigator.hardwareConcurrency?navigator.hardwareConcurrency:4;exports.defaultPoolSize=r;const t=e=>/^(file|https?:)?\/\//i.test(e);function o(e){const r=new Blob([e],{type:"application/javascript"});return URL.createObjectURL(r)}function n(){return"undefined"==typeof Worker?class{constructor(){throw Error("No web worker implementation available. You might have tried to spawn a worker within a worker in a browser that doesn't support workers in workers.")}}:class extends Worker{constructor(r,n){"string"==typeof r&&n&&n._baseURL?r=new URL(r,n._baseURL):"string"==typeof r&&!t(r)&&(0,e.getBundleURL)().match(/^file:\/\//i)&&(r=new URL(r,(0,e.getBundleURL)().replace(/\/[^\/]+$/,"/")),r=o(`importScripts(${JSON.stringify(r)});`)),"string"==typeof r&&t(r)&&(r=o(`importScripts(${JSON.stringify(r)});`)),super(r,n)}}}
},{"./get-bundle-url.browser":"../../node_modules/threads/dist-esm/master/get-bundle-url.browser.js"}],"../../node_modules/ms/index.js":[function(require,module,exports) {
var s=1e3,e=60*s,r=60*e,a=24*r,n=7*a,c=365.25*a;function t(t){if(!((t=String(t)).length>100)){var u=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(u){var i=parseFloat(u[1]);switch((u[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return i*c;case"weeks":case"week":case"w":return i*n;case"days":case"day":case"d":return i*a;case"hours":case"hour":case"hrs":case"hr":case"h":return i*r;case"minutes":case"minute":case"mins":case"min":case"m":return i*e;case"seconds":case"second":case"secs":case"sec":case"s":return i*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return i;default:return}}}}function u(n){var c=Math.abs(n);return c>=a?Math.round(n/a)+"d":c>=r?Math.round(n/r)+"h":c>=e?Math.round(n/e)+"m":c>=s?Math.round(n/s)+"s":n+"ms"}function i(n){var c=Math.abs(n);return c>=a?o(n,c,a,"day"):c>=r?o(n,c,r,"hour"):c>=e?o(n,c,e,"minute"):c>=s?o(n,c,s,"second"):n+" ms"}function o(s,e,r,a){var n=e>=1.5*r;return Math.round(s/r)+" "+a+(n?"s":"")}module.exports=function(s,e){e=e||{};var r=typeof s;if("string"===r&&s.length>0)return t(s);if("number"===r&&isFinite(s))return e.long?i(s):u(s);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(s))};
},{}],"../../node_modules/threads/node_modules/debug/src/common.js":[function(require,module,exports) {
function e(e){function n(e){let n=0;for(let t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return t.colors[Math.abs(n)%t.colors.length]}function t(e){let o;function i(...e){if(!i.enabled)return;const n=i,s=Number(new Date),r=s-(o||s);n.diff=r,n.prev=o,n.curr=s,o=s,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let a=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(s,r)=>{if("%%"===s)return s;a++;const o=t.formatters[r];if("function"==typeof o){const t=e[a];s=o.call(n,t),e.splice(a,1),a--}return s}),t.formatArgs.call(n,e),(n.log||t.log).apply(n,e)}return i.namespace=e,i.enabled=t.enabled(e),i.useColors=t.useColors(),i.color=n(e),i.destroy=s,i.extend=r,"function"==typeof t.init&&t.init(i),t.instances.push(i),i}function s(){const e=t.instances.indexOf(this);return-1!==e&&(t.instances.splice(e,1),!0)}function r(e,n){const s=t(this.namespace+(void 0===n?":":n)+e);return s.log=this.log,s}function o(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},t.disable=function(){const e=[...t.names.map(o),...t.skips.map(o).map(e=>"-"+e)].join(",");return t.enable(""),e},t.enable=function(e){let n;t.save(e),t.names=[],t.skips=[];const s=("string"==typeof e?e:"").split(/[\s,]+/),r=s.length;for(n=0;n<r;n++)s[n]&&("-"===(e=s[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")));for(n=0;n<t.instances.length;n++){const e=t.instances[n];e.enabled=t.enabled(e.namespace)}},t.enabled=function(e){if("*"===e[e.length-1])return!0;let n,s;for(n=0,s=t.skips.length;n<s;n++)if(t.skips[n].test(e))return!1;for(n=0,s=t.names.length;n<s;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=require("ms"),Object.keys(e).forEach(n=>{t[n]=e[n]}),t.instances=[],t.names=[],t.skips=[],t.formatters={},t.selectColor=n,t.enable(t.load()),t}module.exports=e;
},{"ms":"../../node_modules/ms/index.js"}],"../../node_modules/process/browser.js":[function(require,module,exports) {

var t,e,n=module.exports={};function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function i(e){if(t===setTimeout)return setTimeout(e,0);if((t===r||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}function u(t){if(e===clearTimeout)return clearTimeout(t);if((e===o||!e)&&clearTimeout)return e=clearTimeout,clearTimeout(t);try{return e(t)}catch(n){try{return e.call(null,t)}catch(n){return e.call(this,t)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:r}catch(n){t=r}try{e="function"==typeof clearTimeout?clearTimeout:o}catch(n){e=o}}();var c,s=[],l=!1,a=-1;function f(){l&&c&&(l=!1,c.length?s=c.concat(s):a=-1,s.length&&h())}function h(){if(!l){var t=i(f);l=!0;for(var e=s.length;e;){for(c=s,s=[];++a<e;)c&&c[a].run();a=-1,e=s.length}c=null,l=!1,u(t)}}function m(t,e){this.fun=t,this.array=e}function p(){}n.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];s.push(new m(t,e)),1!==s.length||l||i(h)},m.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.env={},n.argv=[],n.version="",n.versions={},n.on=p,n.addListener=p,n.once=p,n.off=p,n.removeListener=p,n.removeAllListeners=p,n.emit=p,n.prependListener=p,n.prependOnceListener=p,n.listeners=function(t){return[]},n.binding=function(t){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(t){throw new Error("process.chdir is not supported")},n.umask=function(){return 0};
},{}],"../../node_modules/threads/node_modules/debug/src/browser.js":[function(require,module,exports) {
var process = require("process");
var e=require("process");function o(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function C(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+module.exports.humanize(this.diff),!this.useColors)return;const o="color: "+this.color;e.splice(1,0,o,"color: inherit");let C=0,t=0;e[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(C++,"%c"===e&&(t=C))}),e.splice(t,0,o)}function t(...e){return"object"==typeof console&&console.log&&console.log(...e)}function r(e){try{e?exports.storage.setItem("debug",e):exports.storage.removeItem("debug")}catch(o){}}function n(){let o;try{o=exports.storage.getItem("debug")}catch(C){}return!o&&void 0!==e&&"env"in e&&(o=void 0),o}function s(){try{return localStorage}catch(e){}}exports.log=t,exports.formatArgs=C,exports.save=r,exports.load=n,exports.useColors=o,exports.storage=s(),exports.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],module.exports=require("./common")(exports);const{formatters:F}=module.exports;F.j=function(e){try{return JSON.stringify(e)}catch(o){return"[UnexpectedJSONParseError]: "+o.message}};
},{"./common":"../../node_modules/threads/node_modules/debug/src/common.js","process":"../../node_modules/process/browser.js"}],"../../node_modules/observable-fns/dist.esm/_scheduler.js":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AsyncSerialScheduler=void 0;var e=function(e,s,r,t){return new(r||(r=Promise))(function(i,n){function o(e){try{h(t.next(e))}catch(s){n(s)}}function c(e){try{h(t.throw(e))}catch(s){n(s)}}function h(e){e.done?i(e.value):new r(function(s){s(e.value)}).then(o,c)}h((t=t.apply(e,s||[])).next())})};class s{constructor(e){this._baseObserver=e,this._pendingPromises=new Set}complete(){Promise.all(this._pendingPromises).then(()=>this._baseObserver.complete()).catch(e=>this._baseObserver.error(e))}error(e){this._baseObserver.error(e)}schedule(s){const r=Promise.all(this._pendingPromises),t=[],i=e=>t.push(e),n=Promise.resolve().then(()=>e(this,void 0,void 0,function*(){yield r,yield s(i),this._pendingPromises.delete(n);for(const e of t)this._baseObserver.next(e)})).catch(e=>{this._pendingPromises.delete(n),this._baseObserver.error(e)});this._pendingPromises.add(n)}}exports.AsyncSerialScheduler=s;
},{}],"../../node_modules/observable-fns/dist.esm/_symbols.js":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.registerObservableSymbol=t,exports.getSymbol=exports.hasSymbol=exports.hasSymbols=void 0;const o=()=>"function"==typeof Symbol;exports.hasSymbols=o;const e=e=>o()&&Boolean(Symbol[e]);exports.hasSymbol=e;const s=o=>e(o)?Symbol[o]:"@@"+o;function t(){o()&&!e("observable")&&(Symbol.observable=Symbol("observable"))}exports.getSymbol=s,e("asyncIterator")||(Symbol.asyncIterator=Symbol.asyncIterator||Symbol.for("Symbol.asyncIterator"));
},{}],"../../node_modules/observable-fns/dist.esm/observable.js":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.Observable=exports.SubscriptionObserver=exports.Subscription=void 0;var e=require("./_symbols");const t=(0,e.getSymbol)("iterator"),r=(0,e.getSymbol)("observable"),o=(0,e.getSymbol)("species");function n(e,t){const r=e[t];if(null!=r){if("function"!=typeof r)throw new TypeError(r+" is not a function");return r}}function s(e){let t=e.constructor;return void 0!==t&&null===(t=t[o])&&(t=void 0),void 0!==t?t:d}function i(e){return e instanceof d}function c(e){c.log?c.log(e):setTimeout(()=>{throw e},0)}function u(e){Promise.resolve().then(()=>{try{e()}catch(t){c(t)}})}function l(e){const t=e._cleanup;if(void 0!==t&&(e._cleanup=void 0,t))try{if("function"==typeof t)t();else{const e=n(t,"unsubscribe");e&&e.call(t)}}catch(r){c(r)}}function a(e){e._observer=void 0,e._queue=void 0,e._state="closed"}function f(e){const t=e._queue;if(t){e._queue=void 0,e._state="ready";for(const r of t)if(b(e,r.type,r.value),"closed"===e._state)break}}function b(e,t,r){e._state="running";const o=e._observer;try{const i=o?n(o,t):void 0;switch(t){case"next":i&&i.call(o,r);break;case"error":if(a(e),!i)throw r;i.call(o,r);break;case"complete":a(e),i&&i.call(o)}}catch(s){c(s)}"closed"===e._state?l(e):"running"===e._state&&(e._state="ready")}function p(e,t,r){if("closed"!==e._state)return"buffering"===e._state?(e._queue=e._queue||[],void e._queue.push({type:t,value:r})):"ready"!==e._state?(e._state="buffering",e._queue=[{type:t,value:r}],void u(()=>f(e))):void b(e,t,r)}class h{constructor(e,t){this._cleanup=void 0,this._observer=e,this._queue=void 0,this._state="initializing";const r=new y(this);try{this._cleanup=t.call(void 0,r)}catch(o){r.error(o)}"initializing"===this._state&&(this._state="ready")}get closed(){return"closed"===this._state}unsubscribe(){"closed"!==this._state&&(a(this),l(this))}}exports.Subscription=h;class y{constructor(e){this._subscription=e}get closed(){return"closed"===this._subscription._state}next(e){p(this._subscription,"next",e)}error(e){p(this._subscription,"error",e)}complete(){p(this._subscription,"complete")}}exports.SubscriptionObserver=y;class d{constructor(e){if(!(this instanceof d))throw new TypeError("Observable cannot be called as a function");if("function"!=typeof e)throw new TypeError("Observable initializer must be a function");this._subscriber=e}subscribe(e,t,r){return"object"==typeof e&&null!==e||(e={next:e,error:t,complete:r}),new h(e,this._subscriber)}pipe(e,...t){let r=this;for(const o of[e,...t])r=o(r);return r}tap(e,t,r){const o="object"!=typeof e||null===e?{next:e,error:t,complete:r}:e;return new d(e=>this.subscribe({next(t){o.next&&o.next(t),e.next(t)},error(t){o.error&&o.error(t),e.error(t)},complete(){o.complete&&o.complete(),e.complete()},start(e){o.start&&o.start(e)}}))}forEach(e){return new Promise((t,r)=>{if("function"!=typeof e)return void r(new TypeError(e+" is not a function"));function o(){n.unsubscribe(),t()}const n=this.subscribe({next(t){try{e(t,o)}catch(s){r(s),n.unsubscribe()}},error:r,complete:t})})}map(e){if("function"!=typeof e)throw new TypeError(e+" is not a function");return new(s(this))(t=>this.subscribe({next(r){let o=r;try{o=e(r)}catch(n){return t.error(n)}t.next(o)},error(e){t.error(e)},complete(){t.complete()}}))}filter(e){if("function"!=typeof e)throw new TypeError(e+" is not a function");return new(s(this))(t=>this.subscribe({next(r){try{if(!e(r))return}catch(o){return t.error(o)}t.next(r)},error(e){t.error(e)},complete(){t.complete()}}))}reduce(e,t){if("function"!=typeof e)throw new TypeError(e+" is not a function");const r=s(this),o=arguments.length>1;let n=!1,i=t;return new r(t=>this.subscribe({next(r){const s=!n;if(n=!0,!s||o)try{i=e(i,r)}catch(c){return t.error(c)}else i=r},error(e){t.error(e)},complete(){if(!n&&!o)return t.error(new TypeError("Cannot reduce an empty sequence"));t.next(i),t.complete()}}))}concat(...e){const t=s(this);return new t(r=>{let o,n=0;return function s(i){o=i.subscribe({next(e){r.next(e)},error(e){r.error(e)},complete(){n===e.length?(o=void 0,r.complete()):s(t.from(e[n++]))}})}(this),()=>{o&&(o.unsubscribe(),o=void 0)}})}flatMap(e){if("function"!=typeof e)throw new TypeError(e+" is not a function");const t=s(this);return new t(r=>{const o=[],n=this.subscribe({next(n){let i;if(e)try{i=e(n)}catch(u){return r.error(u)}else i=n;const c=t.from(i).subscribe({next(e){r.next(e)},error(e){r.error(e)},complete(){const e=o.indexOf(c);e>=0&&o.splice(e,1),s()}});o.push(c)},error(e){r.error(e)},complete(){s()}});function s(){n.closed&&0===o.length&&r.complete()}return()=>{o.forEach(e=>e.unsubscribe()),n.unsubscribe()}})}[r](){return this}static from(o){const s="function"==typeof this?this:d;if(null==o)throw new TypeError(o+" is not an object");const c=n(o,r);if(c){const e=c.call(o);if(Object(e)!==e)throw new TypeError(e+" is not an object");return i(e)&&e.constructor===s?e:new s(t=>e.subscribe(t))}if((0,e.hasSymbol)("iterator")){const e=n(o,t);if(e)return new s(t=>{u(()=>{if(!t.closed){for(const r of e.call(o))if(t.next(r),t.closed)return;t.complete()}})})}if(Array.isArray(o))return new s(e=>{u(()=>{if(!e.closed){for(const t of o)if(e.next(t),e.closed)return;e.complete()}})});throw new TypeError(o+" is not observable")}static of(...e){return new("function"==typeof this?this:d)(t=>{u(()=>{if(!t.closed){for(const r of e)if(t.next(r),t.closed)return;t.complete()}})})}static get[o](){return this}}exports.Observable=d,(0,e.hasSymbols)()&&Object.defineProperty(d,Symbol("extensions"),{value:{symbol:r,hostReportError:c},configurable:!0});var _=d;exports.default=_;
},{"./_symbols":"../../node_modules/observable-fns/dist.esm/_symbols.js"}],"../../node_modules/observable-fns/dist.esm/unsubscribe.js":[function(require,module,exports) {
"use strict";function e(e){"function"==typeof e?e():e&&"function"==typeof e.unsubscribe&&e.unsubscribe()}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e;exports.default=t;
},{}],"../../node_modules/observable-fns/dist.esm/filter.js":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("./_scheduler"),r=n(require("./observable")),t=n(require("./unsubscribe"));function n(e){return e&&e.__esModule?e:{default:e}}var u=function(e,r,t,n){return new(t||(t=Promise))(function(u,o){function c(e){try{l(n.next(e))}catch(r){o(r)}}function i(e){try{l(n.throw(e))}catch(r){o(r)}}function l(e){e.done?u(e.value):new t(function(r){r(e.value)}).then(c,i)}l((n=n.apply(e,r||[])).next())})};function o(n){return o=>new r.default(r=>{const c=new e.AsyncSerialScheduler(r),i=o.subscribe({complete(){c.complete()},error(e){c.error(e)},next(e){c.schedule(r=>u(this,void 0,void 0,function*(){(yield n(e))&&r(e)}))}});return()=>(0,t.default)(i)})}var c=o;exports.default=c;
},{"./_scheduler":"../../node_modules/observable-fns/dist.esm/_scheduler.js","./observable":"../../node_modules/observable-fns/dist.esm/observable.js","./unsubscribe":"../../node_modules/observable-fns/dist.esm/unsubscribe.js"}],"../../node_modules/observable-fns/dist.esm/_util.js":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isAsyncIterator=t,exports.isIterator=e;var r=require("./_symbols");function t(t){return t&&(0,r.hasSymbol)("asyncIterator")&&t[Symbol.asyncIterator]}function e(t){return t&&(0,r.hasSymbol)("iterator")&&t[Symbol.iterator]}
},{"./_symbols":"../../node_modules/observable-fns/dist.esm/_symbols.js"}],"../../node_modules/observable-fns/dist.esm/flatMap.js":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("./_scheduler"),r=require("./_util"),t=o(require("./observable")),n=o(require("./unsubscribe"));function o(e){return e&&e.__esModule?e:{default:e}}var u=function(e,r,t,n){return new(t||(t=Promise))(function(o,u){function i(e){try{l(n.next(e))}catch(r){u(r)}}function c(e){try{l(n.throw(e))}catch(r){u(r)}}function l(e){e.done?o(e.value):new t(function(r){r(e.value)}).then(i,c)}l((n=n.apply(e,r||[])).next())})},i=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,t=e[Symbol.asyncIterator];return t?t.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(t){r[t]=e[t]&&function(r){return new Promise(function(n,o){(function(e,r,t,n){Promise.resolve(n).then(function(r){e({value:r,done:t})},r)})(n,o,(r=e[t](r)).done,r.value)})}}};function c(o){return c=>new t.default(t=>{const l=new e.AsyncSerialScheduler(t),a=c.subscribe({complete(){l.complete()},error(e){l.error(e)},next(e){l.schedule(t=>u(this,void 0,void 0,function*(){var n,u;const c=yield o(e);if((0,r.isIterator)(c)||(0,r.isAsyncIterator)(c))try{for(var l,a=i(c);!(l=yield a.next()).done;){const e=l.value;t(e)}}catch(s){n={error:s}}finally{try{l&&!l.done&&(u=a.return)&&(yield u.call(a))}finally{if(n)throw n.error}}else c.map(e=>t(e))}))}});return()=>(0,n.default)(a)})}var l=c;exports.default=l;
},{"./_scheduler":"../../node_modules/observable-fns/dist.esm/_scheduler.js","./_util":"../../node_modules/observable-fns/dist.esm/_util.js","./observable":"../../node_modules/observable-fns/dist.esm/observable.js","./unsubscribe":"../../node_modules/observable-fns/dist.esm/unsubscribe.js"}],"../../node_modules/observable-fns/dist.esm/interval.js":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=r;var e=require("./observable");function r(r){return new e.Observable(e=>{let t=0;const n=setInterval(()=>{e.next(t++)},r);return()=>clearInterval(n)})}
},{"./observable":"../../node_modules/observable-fns/dist.esm/observable.js"}],"../../node_modules/observable-fns/dist.esm/map.js":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("./_scheduler"),r=n(require("./observable")),t=n(require("./unsubscribe"));function n(e){return e&&e.__esModule?e:{default:e}}var u=function(e,r,t,n){return new(t||(t=Promise))(function(u,o){function c(e){try{l(n.next(e))}catch(r){o(r)}}function i(e){try{l(n.throw(e))}catch(r){o(r)}}function l(e){e.done?u(e.value):new t(function(r){r(e.value)}).then(c,i)}l((n=n.apply(e,r||[])).next())})};function o(n){return o=>new r.default(r=>{const c=new e.AsyncSerialScheduler(r),i=o.subscribe({complete(){c.complete()},error(e){c.error(e)},next(e){c.schedule(r=>u(this,void 0,void 0,function*(){const t=yield n(e);r(t)}))}});return()=>(0,t.default)(i)})}var c=o;exports.default=c;
},{"./_scheduler":"../../node_modules/observable-fns/dist.esm/_scheduler.js","./observable":"../../node_modules/observable-fns/dist.esm/observable.js","./unsubscribe":"../../node_modules/observable-fns/dist.esm/unsubscribe.js"}],"../../node_modules/observable-fns/dist.esm/merge.js":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("./observable"),r=t(require("./unsubscribe"));function t(e){return e&&e.__esModule?e:{default:e}}function u(...t){return 0===t.length?e.Observable.from([]):new e.Observable(e=>{let u=0;const o=t.map(r=>r.subscribe({error(r){e.error(r),l()},next(r){e.next(r)},complete(){++u===t.length&&(e.complete(),l())}})),l=()=>{o.forEach(e=>(0,r.default)(e))};return l})}var o=u;exports.default=o;
},{"./observable":"../../node_modules/observable-fns/dist.esm/observable.js","./unsubscribe":"../../node_modules/observable-fns/dist.esm/unsubscribe.js"}],"../../node_modules/observable-fns/dist.esm/subject.js":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("./observable"));function r(e){return e&&e.__esModule?e:{default:e}}class s extends e.default{constructor(){super(e=>(this._observers.add(e),()=>this._observers.delete(e))),this._observers=new Set}next(e){for(const r of this._observers)r.next(e)}error(e){for(const r of this._observers)r.error(e)}complete(){for(const e of this._observers)e.complete()}}var t=s;exports.default=t;
},{"./observable":"../../node_modules/observable-fns/dist.esm/observable.js"}],"../../node_modules/observable-fns/dist.esm/multicast.js":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./observable")),r=t(require("./subject")),u=t(require("./unsubscribe"));function t(e){return e&&e.__esModule?e:{default:e}}function s(t){const s=new r.default;let n,i=0;return new e.default(e=>{n||(n=t.subscribe(s));const r=s.subscribe(e);return i++,()=>{i--,r.unsubscribe(),0===i&&((0,u.default)(n),n=void 0)}})}var n=s;exports.default=n;
},{"./observable":"../../node_modules/observable-fns/dist.esm/observable.js","./subject":"../../node_modules/observable-fns/dist.esm/subject.js","./unsubscribe":"../../node_modules/observable-fns/dist.esm/unsubscribe.js"}],"../../node_modules/observable-fns/dist.esm/scan.js":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("./_scheduler"),t=n(require("./observable")),r=n(require("./unsubscribe"));function n(e){return e&&e.__esModule?e:{default:e}}var u=function(e,t,r,n){return new(r||(r=Promise))(function(u,o){function c(e){try{l(n.next(e))}catch(t){o(t)}}function i(e){try{l(n.throw(e))}catch(t){o(t)}}function l(e){e.done?u(e.value):new r(function(t){t(e.value)}).then(c,i)}l((n=n.apply(e,t||[])).next())})};function o(n,o){return c=>new t.default(t=>{let i,l=0;const s=new e.AsyncSerialScheduler(t),d=c.subscribe({complete(){s.complete()},error(e){s.error(e)},next(e){s.schedule(t=>u(this,void 0,void 0,function*(){const r=0===l?void 0===o?e:o:i;i=yield n(r,e,l++),t(i)}))}});return()=>(0,r.default)(d)})}var c=o;exports.default=c;
},{"./_scheduler":"../../node_modules/observable-fns/dist.esm/_scheduler.js","./observable":"../../node_modules/observable-fns/dist.esm/observable.js","./unsubscribe":"../../node_modules/observable-fns/dist.esm/unsubscribe.js"}],"../../node_modules/observable-fns/dist.esm/index.js":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"filter",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(exports,"flatMap",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(exports,"interval",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(exports,"map",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(exports,"merge",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(exports,"multicast",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(exports,"Observable",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(exports,"scan",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(exports,"Subject",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(exports,"unsubscribe",{enumerable:!0,get:function(){return l.default}});var e=b(require("./filter")),r=b(require("./flatMap")),t=b(require("./interval")),u=b(require("./map")),n=b(require("./merge")),i=b(require("./multicast")),a=b(require("./observable")),f=b(require("./scan")),o=b(require("./subject")),l=b(require("./unsubscribe"));function b(e){return e&&e.__esModule?e:{default:e}}
},{"./filter":"../../node_modules/observable-fns/dist.esm/filter.js","./flatMap":"../../node_modules/observable-fns/dist.esm/flatMap.js","./interval":"../../node_modules/observable-fns/dist.esm/interval.js","./map":"../../node_modules/observable-fns/dist.esm/map.js","./merge":"../../node_modules/observable-fns/dist.esm/merge.js","./multicast":"../../node_modules/observable-fns/dist.esm/multicast.js","./observable":"../../node_modules/observable-fns/dist.esm/observable.js","./scan":"../../node_modules/observable-fns/dist.esm/scan.js","./subject":"../../node_modules/observable-fns/dist.esm/subject.js","./unsubscribe":"../../node_modules/observable-fns/dist.esm/unsubscribe.js"}],"../../node_modules/threads/dist-esm/ponyfills.js":[function(require,module,exports) {
"use strict";function e(e){return Promise.all(e.map(e=>{const t=e=>({status:"fulfilled",value:e}),r=e=>({status:"rejected",reason:e}),s=Promise.resolve(e);try{return s.then(t,r)}catch(l){return Promise.reject(l)}}))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.allSettled=e;
},{}],"../../node_modules/threads/dist-esm/master/pool-types.js":[function(require,module,exports) {
"use strict";var e;Object.defineProperty(exports,"__esModule",{value:!0}),exports.PoolEventType=void 0,exports.PoolEventType=e,function(e){e.initialized="initialized",e.taskCanceled="taskCanceled",e.taskCompleted="taskCompleted",e.taskFailed="taskFailed",e.taskQueued="taskQueued",e.taskQueueDrained="taskQueueDrained",e.taskStart="taskStart",e.terminated="terminated"}(e||(exports.PoolEventType=e={}));
},{}],"../../node_modules/threads/dist-esm/symbols.js":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.$worker=exports.$transferable=exports.$terminate=exports.$events=exports.$errors=void 0;const e=Symbol("thread.errors");exports.$errors=e;const r=Symbol("thread.events");exports.$events=r;const t=Symbol("thread.terminate");exports.$terminate=t;const o=Symbol("thread.transferable");exports.$transferable=o;const s=Symbol("thread.worker");exports.$worker=s;
},{}],"../../node_modules/threads/dist-esm/master/thread.js":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Thread=void 0;var e=require("../symbols");function r(e){throw Error(e)}const s={errors:s=>s[e.$errors]||r("Error observable not found. Make sure to pass a thread instance as returned by the spawn() promise."),events:s=>s[e.$events]||r("Events observable not found. Make sure to pass a thread instance as returned by the spawn() promise."),terminate:r=>r[e.$terminate]()};exports.Thread=s;
},{"../symbols":"../../node_modules/threads/dist-esm/symbols.js"}],"../../node_modules/threads/dist-esm/master/pool.js":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"PoolEventType",{enumerable:!0,get:function(){return s.PoolEventType}}),Object.defineProperty(exports,"Thread",{enumerable:!0,get:function(){return r.Thread}}),exports.Pool=void 0;var e=o(require("debug")),t=require("observable-fns"),n=require("../ponyfills"),i=require("./implementation"),s=require("./pool-types"),r=require("./thread");function o(e){return e&&e.__esModule?e:{default:e}}var u=function(e,t,n,i){return new(n||(n=Promise))(function(s,r){function o(e){try{a(i.next(e))}catch(t){r(t)}}function u(e){try{a(i.throw(e))}catch(t){r(t)}}function a(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(o,u)}a((i=i.apply(e,t||[])).next())})};let a=1;function l(e){const t=[];for(let n=0;n<e;n++)t.push(n);return t}function h(e){return new Promise(t=>setTimeout(t,e))}function d(e,t){return e.reduce((e,n)=>[...e,...t(n)],[])}function c(e){return e.replace(/\W/g," ").trim().replace(/\s+/g,"-")}function p(e,t){return l(t).map(()=>({init:e(),runningTasks:[]}))}class b{constructor(n,r){this.eventSubject=new t.Subject,this.initErrors=[],this.isClosing=!1,this.nextTaskID=1,this.taskQueue=[];const o="number"==typeof r?{size:r}:r||{},{size:u=i.defaultPoolSize}=o;this.debug=(0,e.default)(`threads:pool:${c(o.name||String(a++))}`),this.options=o,this.workers=p(n,u),this.eventObservable=(0,t.multicast)(t.Observable.from(this.eventSubject)),Promise.all(this.workers.map(e=>e.init)).then(()=>this.eventSubject.next({type:s.PoolEventType.initialized,size:this.workers.length}),e=>{this.debug("Error while initializing pool worker:",e),this.eventSubject.error(e),this.initErrors.push(e)})}findIdlingWorker(){const{concurrency:e=1}=this.options;return this.workers.find(t=>t.runningTasks.length<e)}runPoolTask(e,t){return u(this,void 0,void 0,function*(){const n=this.workers.indexOf(e)+1;this.debug(`Running task #${t.id} on worker #${n}...`),this.eventSubject.next({type:s.PoolEventType.taskStart,taskID:t.id,workerID:n});try{const r=yield t.run(yield e.init);this.debug(`Task #${t.id} completed successfully`),this.eventSubject.next({type:s.PoolEventType.taskCompleted,returnValue:r,taskID:t.id,workerID:n})}catch(i){this.debug(`Task #${t.id} failed`),this.eventSubject.next({type:s.PoolEventType.taskFailed,taskID:t.id,error:i,workerID:n})}})}run(e,t){return u(this,void 0,void 0,function*(){const n=(()=>u(this,void 0,void 0,function*(){yield h(0);try{yield this.runPoolTask(e,t)}finally{e.runningTasks=e.runningTasks.filter(e=>e!==n),this.isClosing||this.scheduleWork()}}))();e.runningTasks.push(n)})}scheduleWork(){this.debug("Attempt de-queueing a task in order to run it...");const e=this.findIdlingWorker();if(!e)return;const t=this.taskQueue.shift();if(!t)return this.debug("Task queue is empty"),void this.eventSubject.next({type:s.PoolEventType.taskQueueDrained});this.run(e,t)}taskCompletion(e){return new Promise((t,n)=>{const i=this.events().subscribe(r=>{r.type===s.PoolEventType.taskCompleted&&r.taskID===e?(i.unsubscribe(),t(r.returnValue)):r.type===s.PoolEventType.taskFailed&&r.taskID===e?(i.unsubscribe(),n(r.error)):r.type===s.PoolEventType.terminated&&(i.unsubscribe(),n(Error("Pool has been terminated before task was run.")))})})}settled(e=!1){return u(this,void 0,void 0,function*(){const t=()=>d(this.workers,e=>e.runningTasks),i=[],r=this.eventObservable.subscribe(e=>{e.type===s.PoolEventType.taskFailed&&i.push(e.error)});return this.initErrors.length>0?Promise.reject(this.initErrors[0]):e&&0===this.taskQueue.length?(yield(0,n.allSettled)(t()),i):(yield new Promise((e,t)=>{const n=this.eventObservable.subscribe({next(t){t.type===s.PoolEventType.taskQueueDrained&&(n.unsubscribe(),e())},error:t})}),yield(0,n.allSettled)(t()),r.unsubscribe(),i)})}completed(e=!1){return u(this,void 0,void 0,function*(){const t=this.settled(e),n=new Promise((e,n)=>{const i=this.eventObservable.subscribe({next(r){r.type===s.PoolEventType.taskQueueDrained?(i.unsubscribe(),e(t)):r.type===s.PoolEventType.taskFailed&&(i.unsubscribe(),n(r.error))},error:n})}),i=yield Promise.race([t,n]);if(i.length>0)throw i[0]})}events(){return this.eventObservable}queue(e){const{maxQueuedJobs:t=1/0}=this.options;if(this.isClosing)throw Error("Cannot schedule pool tasks after terminate() has been called.");if(this.initErrors.length>0)throw this.initErrors[0];const n=()=>this.taskCompletion(r.id);let i;const r={id:this.nextTaskID++,run:e,cancel:()=>{-1!==this.taskQueue.indexOf(r)&&(this.taskQueue=this.taskQueue.filter(e=>e!==r),this.eventSubject.next({type:s.PoolEventType.taskCanceled,taskID:r.id}))},get then(){if(!i){const e=n();i=e.then.bind(e)}return i}};if(this.taskQueue.length>=t)throw Error("Maximum number of pool tasks queued. Refusing to queue another one.\nThis usually happens for one of two reasons: We are either at peak workload right now or some tasks just won't finish, thus blocking the pool.");return this.debug(`Queueing task #${r.id}...`),this.taskQueue.push(r),this.eventSubject.next({type:s.PoolEventType.taskQueued,taskID:r.id}),this.scheduleWork(),r}terminate(e){return u(this,void 0,void 0,function*(){this.isClosing=!0,e||(yield this.completed(!0)),this.eventSubject.next({type:s.PoolEventType.terminated,remainingQueue:[...this.taskQueue]}),this.eventSubject.complete(),yield Promise.all(this.workers.map(e=>u(this,void 0,void 0,function*(){return r.Thread.terminate(yield e.init)})))})}}function k(e,t){return new b(e,t)}b.EventType=s.PoolEventType,k.EventType=s.PoolEventType;const v=k;exports.Pool=v;
},{"debug":"../../node_modules/threads/node_modules/debug/src/browser.js","observable-fns":"../../node_modules/observable-fns/dist.esm/index.js","../ponyfills":"../../node_modules/threads/dist-esm/ponyfills.js","./implementation":"../../node_modules/threads/dist-esm/master/implementation.browser.js","./pool-types":"../../node_modules/threads/dist-esm/master/pool-types.js","./thread":"../../node_modules/threads/dist-esm/master/thread.js"}],"../../node_modules/threads/dist-esm/promise.js":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.createPromiseWithResolver=t;const e=()=>void 0;function t(){let t,r=!1,o=e;return[new Promise(e=>{r?e(t):o=e}),e=>{r=!0,t=e,o()}]}
},{}],"../../node_modules/threads/dist-esm/types/master.js":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.WorkerEventType=void 0;var e,r=require("../symbols");exports.WorkerEventType=e,function(e){e.internalError="internalError",e.message="message",e.termination="termination"}(e||(exports.WorkerEventType=e={}));
},{"../symbols":"../../node_modules/threads/dist-esm/symbols.js"}],"../../node_modules/threads/dist-esm/observable-promise.js":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ObservablePromise=void 0;var t=require("observable-fns");const e=()=>void 0,s=t=>t,r=t=>Promise.resolve().then(t);function i(t){throw t}function n(t){return t&&"function"==typeof t.then}class o extends t.Observable{constructor(t){super(e=>{const s=this,r=Object.assign(Object.assign({},e),{complete(){e.complete(),s.onCompletion()},error(t){e.error(t),s.onError(t)},next(t){e.next(t),s.onNext(t)}});try{return this.initHasRun=!0,t(r)}catch(i){r.error(i)}}),this.initHasRun=!1,this.fulfillmentCallbacks=[],this.rejectionCallbacks=[],this.firstValueSet=!1,this.state="pending"}onNext(t){this.firstValueSet||(this.firstValue=t,this.firstValueSet=!0)}onError(t){this.state="rejected",this.rejection=t;for(const e of this.rejectionCallbacks)r(()=>e(t))}onCompletion(){this.state="fulfilled";for(const t of this.fulfillmentCallbacks)r(()=>t(this.firstValue))}then(t,e){const r=t||s,n=e||i;let o=!1;return new Promise((t,e)=>{const s=s=>{if(!o){o=!0;try{t(n(s))}catch(r){e(r)}}};return this.initHasRun||this.subscribe({error:s}),"fulfilled"===this.state?t(r(this.firstValue)):"rejected"===this.state?(o=!0,t(n(this.rejection))):(this.fulfillmentCallbacks.push(e=>{try{t(r(e))}catch(i){s(i)}}),void this.rejectionCallbacks.push(s))})}catch(t){return this.then(void 0,t)}finally(t){const s=t||e;return this.then(t=>(s(),t),()=>s())}static from(t){return n(t)?new o(e=>{t.then(t=>{e.next(t),e.complete()},t=>{e.error(t)})}):super.from(t)}}exports.ObservablePromise=o;
},{"observable-fns":"../../node_modules/observable-fns/dist.esm/index.js"}],"../../node_modules/threads/dist-esm/transferable.js":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isTransferDescriptor=t,exports.Transfer=s;var r=require("./symbols");function e(r){return!(!r||"object"!=typeof r)}function t(e){return e&&"object"==typeof e&&e[r.$transferable]}function s(t,s){if(!s){if(!e(t))throw Error();s=[t]}return{[r.$transferable]:!0,send:t,transferables:s}}
},{"./symbols":"../../node_modules/threads/dist-esm/symbols.js"}],"../../node_modules/threads/dist-esm/types/messages.js":[function(require,module,exports) {
"use strict";var e,r;Object.defineProperty(exports,"__esModule",{value:!0}),exports.WorkerMessageType=exports.MasterMessageType=void 0,exports.MasterMessageType=e,function(e){e.run="run"}(e||(exports.MasterMessageType=e={})),exports.WorkerMessageType=r,function(e){e.error="error",e.init="init",e.result="result",e.running="running",e.uncaughtError="uncaughtError"}(r||(exports.WorkerMessageType=r={}));
},{}],"../../node_modules/threads/dist-esm/master/invocation-proxy.js":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.createProxyFunction=g,exports.createProxyModule=y;var e=n(require("debug")),r=require("observable-fns"),s=require("../common"),t=require("../observable-promise"),a=require("../transferable"),o=require("../types/messages");function n(e){return e&&e.__esModule?e:{default:e}}const i=(0,e.default)("threads:master:messages");let u=1;const d=e=>Array.from(new Set(e)),l=e=>e&&e.type===o.WorkerMessageType.error,c=e=>e&&e.type===o.WorkerMessageType.result,m=e=>e&&e.type===o.WorkerMessageType.running;function f(e,t){return new r.Observable(r=>{let a;const o=n=>{if(i("Message from worker:",n.data),n.data&&n.data.uid===t)if(m(n.data))a=n.data.resultType;else if(c(n.data))"promise"===a?(void 0!==n.data.payload&&r.next((0,s.deserialize)(n.data.payload)),r.complete(),e.removeEventListener("message",o)):(n.data.payload&&r.next((0,s.deserialize)(n.data.payload)),n.data.complete&&(r.complete(),e.removeEventListener("message",o)));else if(l(n.data)){const t=(0,s.deserialize)(n.data.error);r.error(t),e.removeEventListener("message",o)}};return e.addEventListener("message",o),()=>e.removeEventListener("message",o)})}function p(e){if(0===e.length)return{args:[],transferables:[]};const r=[],t=[];for(const o of e)(0,a.isTransferDescriptor)(o)?(r.push((0,s.serialize)(o.send)),t.push(...o.transferables)):r.push((0,s.serialize)(o));return{args:r,transferables:0===t.length?t:d(t)}}function g(e,s){return(...a)=>{const n=u++,{args:d,transferables:l}=p(a),c={type:o.MasterMessageType.run,uid:n,method:s,args:d};i("Sending command to run function to worker:",c);try{e.postMessage(c,l)}catch(m){return t.ObservablePromise.from(Promise.reject(m))}return t.ObservablePromise.from((0,r.multicast)(f(e,n)))}}function y(e,r){const s={};for(const t of r)s[t]=g(e,t);return s}
},{"debug":"../../node_modules/threads/node_modules/debug/src/browser.js","observable-fns":"../../node_modules/observable-fns/dist.esm/index.js","../common":"../../node_modules/threads/dist-esm/common.js","../observable-promise":"../../node_modules/threads/dist-esm/observable-promise.js","../transferable":"../../node_modules/threads/dist-esm/transferable.js","../types/messages":"../../node_modules/threads/dist-esm/types/messages.js"}],"../../node_modules/threads/dist-esm/master/spawn.js":[function(require,module,exports) {
var process = require("process");
var e=require("process");Object.defineProperty(exports,"__esModule",{value:!0}),exports.spawn=x;var t=u(require("debug")),r=require("observable-fns"),n=require("../common"),o=require("../promise"),i=require("../symbols"),s=require("../types/master"),a=require("./invocation-proxy");function u(e){return e&&e.__esModule?e:{default:e}}var c=function(e,t,r,n){return new(r||(r=Promise))(function(o,i){function s(e){try{u(n.next(e))}catch(t){i(t)}}function a(e){try{u(n.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(s,a)}u((n=n.apply(e,t||[])).next())})};const d=(0,t.default)("threads:master:messages"),m=(0,t.default)("threads:master:spawn"),v=(0,t.default)("threads:master:thread-utils"),l=e=>e&&"init"===e.type,f=e=>e&&"uncaughtError"===e.type,p=1e4;function y(e,t,r){return c(this,void 0,void 0,function*(){let n;const o=new Promise((e,o)=>{n=setTimeout(()=>o(Error(r)),t)}),i=yield Promise.race([e,o]);return clearTimeout(n),i})}function h(e){return new Promise((t,r)=>{const o=i=>{d("Message from worker before finishing initialization:",i.data),l(i.data)?(e.removeEventListener("message",o),t(i.data)):f(i.data)&&(e.removeEventListener("message",o),r((0,n.deserialize)(i.data.error)))};e.addEventListener("message",o)})}function E(e,t){return new r.Observable(r=>{const n=e=>{const t={type:s.WorkerEventType.message,data:e.data};r.next(t)},o=e=>{v("Unhandled promise rejection event in thread:",e);const t={type:s.WorkerEventType.internalError,error:Error(e.reason)};r.next(t)};e.addEventListener("message",n),e.addEventListener("unhandledrejection",o),t.then(()=>{const t={type:s.WorkerEventType.termination};e.removeEventListener("message",n),e.removeEventListener("unhandledrejection",o),r.next(t),r.complete()})})}function g(e){const[t,r]=(0,o.createPromiseWithResolver)();return{terminate:()=>c(this,void 0,void 0,function*(){v("Terminating worker"),yield e.terminate(),r()}),termination:t}}function w(e,t,r,n){const o=r.filter(e=>e.type===s.WorkerEventType.internalError).map(e=>e.error);return Object.assign(e,{[i.$errors]:o,[i.$events]:r,[i.$terminate]:n,[i.$worker]:t})}function x(e,t){return c(this,void 0,void 0,function*(){m("Initializing new thread");const r=(yield y(h(e),t&&t.timeout?t.timeout:p,`Timeout: Did not receive an init message from worker after ${p}ms. Make sure the worker calls expose().`)).exposed,{termination:n,terminate:o}=g(e),i=E(e,n);if("function"===r.type){return w((0,a.createProxyFunction)(e),e,i,o)}if("module"===r.type){return w((0,a.createProxyModule)(e,r.methods),e,i,o)}{const e=r.type;throw Error(`Worker init message states unexpected type of expose(): ${e}`)}})}
},{"debug":"../../node_modules/threads/node_modules/debug/src/browser.js","observable-fns":"../../node_modules/observable-fns/dist.esm/index.js","../common":"../../node_modules/threads/dist-esm/common.js","../promise":"../../node_modules/threads/dist-esm/promise.js","../symbols":"../../node_modules/threads/dist-esm/symbols.js","../types/master":"../../node_modules/threads/dist-esm/types/master.js","./invocation-proxy":"../../node_modules/threads/dist-esm/master/invocation-proxy.js","process":"../../node_modules/process/browser.js"}],"../../node_modules/threads/dist-esm/master/index.js":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"Pool",{enumerable:!0,get:function(){return r.Pool}}),Object.defineProperty(exports,"spawn",{enumerable:!0,get:function(){return t.spawn}}),Object.defineProperty(exports,"Thread",{enumerable:!0,get:function(){return o.Thread}}),exports.Worker=void 0;var e=require("./implementation"),r=require("./pool"),t=require("./spawn"),o=require("./thread");const n=(0,e.selectWorkerImplementation)();exports.Worker=n;
},{"./implementation":"../../node_modules/threads/dist-esm/master/implementation.browser.js","./pool":"../../node_modules/threads/dist-esm/master/pool.js","./spawn":"../../node_modules/threads/dist-esm/master/spawn.js","./thread":"../../node_modules/threads/dist-esm/master/thread.js"}],"../../node_modules/symbol-observable/es/ponyfill.js":[function(require,module,exports) {
"use strict";function e(e){var o,r=e.Symbol;return"function"==typeof r?r.observable?o=r.observable:(o=r("observable"),r.observable=o):o="@@observable",o}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"../../node_modules/symbol-observable/es/index.js":[function(require,module,exports) {
var global = arguments[3];
var e=arguments[3];Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var d,o=t(require("./ponyfill.js"));function t(e){return e&&e.__esModule?e:{default:e}}d="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof module?module:Function("return this")();var u=(0,o.default)(d),n=u;exports.default=n;
},{"./ponyfill.js":"../../node_modules/symbol-observable/es/ponyfill.js"}],"../../node_modules/is-observable/index.js":[function(require,module,exports) {
"use strict";const e=require("symbol-observable").default;module.exports=(o=>Boolean(o&&o[e]&&o===o[e]()));
},{"symbol-observable":"../../node_modules/symbol-observable/es/index.js"}],"../../node_modules/threads/dist-esm/worker/implementation.browser.js":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;const e=function(){return!("undefined"==typeof self||!self.postMessage)},s=function(e,s){self.postMessage(e,s)},t=function(e){const s=s=>{e(s.data)};return self.addEventListener("message",s),()=>{self.removeEventListener("message",s)}};var o={isWorkerRuntime:e,postMessageToMaster:s,subscribeToMasterMessages:t};exports.default=o;
},{}],"../../node_modules/threads/dist-esm/worker/index.js":[function(require,module,exports) {
var process = require("process");
var e=require("process");Object.defineProperty(exports,"__esModule",{value:!0}),exports.expose=T,Object.defineProperty(exports,"registerSerializer",{enumerable:!0,get:function(){return r.registerSerializer}}),Object.defineProperty(exports,"Transfer",{enumerable:!0,get:function(){return o.Transfer}});var t=a(require("is-observable")),r=require("../common"),o=require("../transferable"),s=require("../types/messages"),n=a(require("./implementation"));function a(e){return e&&e.__esModule?e:{default:e}}var i=function(e,t,r,o){return new(r||(r=Promise))(function(s,n){function a(e){try{u(o.next(e))}catch(t){n(t)}}function i(e){try{u(o.throw(e))}catch(t){n(t)}}function u(e){var t;e.done?s(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(a,i)}u((o=o.apply(e,t||[])).next())})};let u=!1;const c=e=>e&&e.type===s.MasterMessageType.run,f=e=>(0,t.default)(e)||l(e);function l(e){return e&&"object"==typeof e&&"function"==typeof e.subscribe}function p(e){return(0,o.isTransferDescriptor)(e)?{payload:e.send,transferables:e.transferables}:{payload:e,transferables:void 0}}function d(){const e={type:s.WorkerMessageType.init,exposed:{type:"function"}};n.default.postMessageToMaster(e)}function y(e){const t={type:s.WorkerMessageType.init,exposed:{type:"module",methods:e}};n.default.postMessageToMaster(t)}function g(e,t){const{payload:o,transferables:a}=p(t),i={type:s.WorkerMessageType.error,uid:e,error:(0,r.serialize)(o)};n.default.postMessageToMaster(i,a)}function m(e,t,r){const{payload:o,transferables:a}=p(r),i={type:s.WorkerMessageType.result,uid:e,complete:!!t||void 0,payload:o};n.default.postMessageToMaster(i,a)}function b(e,t){const r={type:s.WorkerMessageType.running,uid:e,resultType:t};n.default.postMessageToMaster(r)}function h(e){try{const o={type:s.WorkerMessageType.uncaughtError,error:(0,r.serialize)(e)};n.default.postMessageToMaster(o)}catch(t){console.error("Not reporting uncaught error back to master thread as it occured while reporting an uncaught error already.\nLatest error:",t,"\nOriginal error:",e)}}function M(e,t,o){return i(this,void 0,void 0,function*(){let s;try{s=t(...o)}catch(a){return g(e,a)}const n=f(s)?"observable":"promise";if(b(e,n),f(s))s.subscribe(t=>m(e,!1,(0,r.serialize)(t)),t=>g(e,(0,r.serialize)(t)),()=>m(e,!0));else try{const t=yield s;m(e,!0,(0,r.serialize)(t))}catch(a){g(e,(0,r.serialize)(a))}})}function T(e){if(!n.default.isWorkerRuntime())throw Error("expose() called in the master thread.");if(u)throw Error("expose() called more than once. This is not possible. Pass an object to expose() if you want to expose multiple functions.");if(u=!0,"function"==typeof e)n.default.subscribeToMasterMessages(t=>{c(t)&&!t.method&&M(t.uid,e,t.args.map(r.deserialize))}),d();else{if("object"!=typeof e||!e)throw Error(`Invalid argument passed to expose(). Expected a function or an object, got: ${e}`);n.default.subscribeToMasterMessages(t=>{c(t)&&t.method&&M(t.uid,e[t.method],t.args.map(r.deserialize))}),y(Object.keys(e).filter(t=>"function"==typeof e[t]))}}"undefined"!=typeof self&&"function"==typeof self.addEventListener&&n.default.isWorkerRuntime()&&(self.addEventListener("error",e=>{setTimeout(()=>h(e.error||e),250)}),self.addEventListener("unhandledrejection",e=>{const t=e.reason;t&&"string"==typeof t.message&&setTimeout(()=>h(t),250)})),void 0!==e&&"function"==typeof e.on&&n.default.isWorkerRuntime()&&(e.on("uncaughtException",e=>{setTimeout(()=>h(e),250)}),e.on("unhandledRejection",e=>{e&&"string"==typeof e.message&&setTimeout(()=>h(e),250)}));
},{"is-observable":"../../node_modules/is-observable/index.js","../common":"../../node_modules/threads/dist-esm/common.js","../transferable":"../../node_modules/threads/dist-esm/transferable.js","../types/messages":"../../node_modules/threads/dist-esm/types/messages.js","./implementation":"../../node_modules/threads/dist-esm/worker/implementation.browser.js","process":"../../node_modules/process/browser.js"}],"../../node_modules/threads/dist-esm/index.js":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e={registerSerializer:!0,expose:!0,DefaultSerializer:!0,Transfer:!0};Object.defineProperty(exports,"registerSerializer",{enumerable:!0,get:function(){return r.registerSerializer}}),Object.defineProperty(exports,"expose",{enumerable:!0,get:function(){return i.expose}}),Object.defineProperty(exports,"DefaultSerializer",{enumerable:!0,get:function(){return n.DefaultSerializer}}),Object.defineProperty(exports,"Transfer",{enumerable:!0,get:function(){return o.Transfer}});var r=require("./common"),t=require("./master/index");Object.keys(t).forEach(function(r){"default"!==r&&"__esModule"!==r&&(Object.prototype.hasOwnProperty.call(e,r)||Object.defineProperty(exports,r,{enumerable:!0,get:function(){return t[r]}}))});var i=require("./worker/index"),n=require("./serializers"),o=require("./transferable");
},{"./common":"../../node_modules/threads/dist-esm/common.js","./master/index":"../../node_modules/threads/dist-esm/master/index.js","./worker/index":"../../node_modules/threads/dist-esm/worker/index.js","./serializers":"../../node_modules/threads/dist-esm/serializers.js","./transferable":"../../node_modules/threads/dist-esm/transferable.js"}],"../../node_modules/threads/dist/serializers.js":[function(require,module,exports) {
"use strict";function e(e,r){const i=e.deserialize.bind(e),s=e.serialize.bind(e);return{deserialize:e=>r.deserialize(e,i),serialize:e=>r.serialize(e,s)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.extendSerializer=e;const r={deserialize:e=>Object.assign(Error(e.message),{name:e.name,stack:e.stack}),serialize:e=>({__error_marker:"$$error",message:e.message,name:e.name,stack:e.stack})},i=e=>e&&"object"==typeof e&&"__error_marker"in e&&"$$error"===e.__error_marker;exports.DefaultSerializer={deserialize:e=>i(e)?r.deserialize(e):e,serialize:e=>e instanceof Error?r.serialize(e):e};
},{}],"../../node_modules/threads/dist/common.js":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("./serializers");let r=e.DefaultSerializer;function i(i){r=e.extendSerializer(r,i)}function t(e){return r.deserialize(e)}function s(e){return r.serialize(e)}exports.registerSerializer=i,exports.deserialize=t,exports.serialize=s;
},{"./serializers":"../../node_modules/threads/dist/serializers.js"}],"../../node_modules/threads/dist/master/get-bundle-url.browser.js":[function(require,module,exports) {
"use strict";let e;function t(){return e||(e=n()),e}function n(){try{throw new Error}catch(e){const t=(""+e.stack).match(/(https?|file|ftp|chrome-extension|moz-extension):\/\/[^)\n]+/g);if(t)return r(t[0])}return"/"}function r(e){return(""+e).replace(/^((?:https?|file|ftp|chrome-extension|moz-extension):\/\/.+)?\/[^/]+(?:\?.*)?$/,"$1")+"/"}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getBundleURL=t,exports.getBaseURL=r;
},{}],"../../node_modules/threads/dist/master/implementation.browser.js":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("./get-bundle-url.browser");exports.defaultPoolSize="undefined"!=typeof navigator&&navigator.hardwareConcurrency?navigator.hardwareConcurrency:4;const r=e=>/^(file|https?:)?\/\//i.test(e);function t(e){const r=new Blob([e],{type:"application/javascript"});return URL.createObjectURL(r)}function o(){return"undefined"==typeof Worker?class{constructor(){throw Error("No web worker implementation available. You might have tried to spawn a worker within a worker in a browser that doesn't support workers in workers.")}}:class extends Worker{constructor(o,n){"string"==typeof o&&n&&n._baseURL?o=new URL(o,n._baseURL):"string"==typeof o&&!r(o)&&e.getBundleURL().match(/^file:\/\//i)&&(o=new URL(o,e.getBundleURL().replace(/\/[^\/]+$/,"/")),o=t(`importScripts(${JSON.stringify(o)});`)),"string"==typeof o&&r(o)&&(o=t(`importScripts(${JSON.stringify(o)});`)),super(o,n)}}}exports.selectWorkerImplementation=o;
},{"./get-bundle-url.browser":"../../node_modules/threads/dist/master/get-bundle-url.browser.js"}],"../../node_modules/threads/dist/master/pool-types.js":[function(require,module,exports) {
"use strict";var e;Object.defineProperty(exports,"__esModule",{value:!0}),function(e){e.initialized="initialized",e.taskCanceled="taskCanceled",e.taskCompleted="taskCompleted",e.taskFailed="taskFailed",e.taskQueued="taskQueued",e.taskQueueDrained="taskQueueDrained",e.taskStart="taskStart",e.terminated="terminated"}(e=exports.PoolEventType||(exports.PoolEventType={}));
},{}],"../../node_modules/threads/dist/symbols.js":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.$errors=Symbol("thread.errors"),exports.$events=Symbol("thread.events"),exports.$terminate=Symbol("thread.terminate"),exports.$transferable=Symbol("thread.transferable"),exports.$worker=Symbol("thread.worker");
},{}],"../../node_modules/threads/dist/master/thread.js":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("../symbols");function r(e){throw Error(e)}exports.Thread={errors:s=>s[e.$errors]||r("Error observable not found. Make sure to pass a thread instance as returned by the spawn() promise."),events:s=>s[e.$events]||r("Events observable not found. Make sure to pass a thread instance as returned by the spawn() promise."),terminate:r=>r[e.$terminate]()};
},{"../symbols":"../../node_modules/threads/dist/symbols.js"}],"../../node_modules/threads/dist/master/pool.js":[function(require,module,exports) {
"use strict";var e=this&&this.__awaiter||function(e,t,i,n){return new(i||(i=Promise))(function(s,r){function o(e){try{a(n.next(e))}catch(t){r(t)}}function u(e){try{a(n.throw(e))}catch(t){r(t)}}function a(e){var t;e.done?s(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(o,u)}a((n=n.apply(e,t||[])).next())})},t=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});const i=t(require("debug")),n=require("observable-fns"),s=require("../ponyfills"),r=require("./implementation"),o=require("./pool-types");exports.PoolEventType=o.PoolEventType;const u=require("./thread");exports.Thread=u.Thread;let a=1;function l(e){const t=[];for(let i=0;i<e;i++)t.push(i);return t}function h(e){return new Promise(t=>setTimeout(t,e))}function d(e,t){return e.reduce((e,i)=>[...e,...t(i)],[])}function c(e){return e.replace(/\W/g," ").trim().replace(/\s+/g,"-")}function p(e,t){return l(t).map(()=>({init:e(),runningTasks:[]}))}class k{constructor(e,t){this.eventSubject=new n.Subject,this.initErrors=[],this.isClosing=!1,this.nextTaskID=1,this.taskQueue=[];const s="number"==typeof t?{size:t}:t||{},{size:u=r.defaultPoolSize}=s;this.debug=i.default(`threads:pool:${c(s.name||String(a++))}`),this.options=s,this.workers=p(e,u),this.eventObservable=n.multicast(n.Observable.from(this.eventSubject)),Promise.all(this.workers.map(e=>e.init)).then(()=>this.eventSubject.next({type:o.PoolEventType.initialized,size:this.workers.length}),e=>{this.debug("Error while initializing pool worker:",e),this.eventSubject.error(e),this.initErrors.push(e)})}findIdlingWorker(){const{concurrency:e=1}=this.options;return this.workers.find(t=>t.runningTasks.length<e)}runPoolTask(t,i){return e(this,void 0,void 0,function*(){const e=this.workers.indexOf(t)+1;this.debug(`Running task #${i.id} on worker #${e}...`),this.eventSubject.next({type:o.PoolEventType.taskStart,taskID:i.id,workerID:e});try{const s=yield i.run(yield t.init);this.debug(`Task #${i.id} completed successfully`),this.eventSubject.next({type:o.PoolEventType.taskCompleted,returnValue:s,taskID:i.id,workerID:e})}catch(n){this.debug(`Task #${i.id} failed`),this.eventSubject.next({type:o.PoolEventType.taskFailed,taskID:i.id,error:n,workerID:e})}})}run(t,i){return e(this,void 0,void 0,function*(){const n=(()=>e(this,void 0,void 0,function*(){yield h(0);try{yield this.runPoolTask(t,i)}finally{t.runningTasks=t.runningTasks.filter(e=>e!==n),this.isClosing||this.scheduleWork()}}))();t.runningTasks.push(n)})}scheduleWork(){this.debug("Attempt de-queueing a task in order to run it...");const e=this.findIdlingWorker();if(!e)return;const t=this.taskQueue.shift();if(!t)return this.debug("Task queue is empty"),void this.eventSubject.next({type:o.PoolEventType.taskQueueDrained});this.run(e,t)}taskCompletion(e){return new Promise((t,i)=>{const n=this.events().subscribe(s=>{s.type===o.PoolEventType.taskCompleted&&s.taskID===e?(n.unsubscribe(),t(s.returnValue)):s.type===o.PoolEventType.taskFailed&&s.taskID===e?(n.unsubscribe(),i(s.error)):s.type===o.PoolEventType.terminated&&(n.unsubscribe(),i(Error("Pool has been terminated before task was run.")))})})}settled(t=!1){return e(this,void 0,void 0,function*(){const e=()=>d(this.workers,e=>e.runningTasks),i=[],n=this.eventObservable.subscribe(e=>{e.type===o.PoolEventType.taskFailed&&i.push(e.error)});return this.initErrors.length>0?Promise.reject(this.initErrors[0]):t&&0===this.taskQueue.length?(yield s.allSettled(e()),i):(yield new Promise((e,t)=>{const i=this.eventObservable.subscribe({next(t){t.type===o.PoolEventType.taskQueueDrained&&(i.unsubscribe(),e())},error:t})}),yield s.allSettled(e()),n.unsubscribe(),i)})}completed(t=!1){return e(this,void 0,void 0,function*(){const e=this.settled(t),i=new Promise((t,i)=>{const n=this.eventObservable.subscribe({next(s){s.type===o.PoolEventType.taskQueueDrained?(n.unsubscribe(),t(e)):s.type===o.PoolEventType.taskFailed&&(n.unsubscribe(),i(s.error))},error:i})}),n=yield Promise.race([e,i]);if(n.length>0)throw n[0]})}events(){return this.eventObservable}queue(e){const{maxQueuedJobs:t=1/0}=this.options;if(this.isClosing)throw Error("Cannot schedule pool tasks after terminate() has been called.");if(this.initErrors.length>0)throw this.initErrors[0];const i=()=>this.taskCompletion(s.id);let n;const s={id:this.nextTaskID++,run:e,cancel:()=>{-1!==this.taskQueue.indexOf(s)&&(this.taskQueue=this.taskQueue.filter(e=>e!==s),this.eventSubject.next({type:o.PoolEventType.taskCanceled,taskID:s.id}))},get then(){if(!n){const e=i();n=e.then.bind(e)}return n}};if(this.taskQueue.length>=t)throw Error("Maximum number of pool tasks queued. Refusing to queue another one.\nThis usually happens for one of two reasons: We are either at peak workload right now or some tasks just won't finish, thus blocking the pool.");return this.debug(`Queueing task #${s.id}...`),this.taskQueue.push(s),this.eventSubject.next({type:o.PoolEventType.taskQueued,taskID:s.id}),this.scheduleWork(),s}terminate(t){return e(this,void 0,void 0,function*(){this.isClosing=!0,t||(yield this.completed(!0)),this.eventSubject.next({type:o.PoolEventType.terminated,remainingQueue:[...this.taskQueue]}),this.eventSubject.complete(),yield Promise.all(this.workers.map(t=>e(this,void 0,void 0,function*(){return u.Thread.terminate(yield t.init)})))})}}function b(e,t){return new k(e,t)}k.EventType=o.PoolEventType,b.EventType=o.PoolEventType,exports.Pool=b;
},{"debug":"../../node_modules/threads/node_modules/debug/src/browser.js","observable-fns":"../../node_modules/observable-fns/dist.esm/index.js","../ponyfills":"../../node_modules/threads/dist-esm/ponyfills.js","./implementation":"../../node_modules/threads/dist/master/implementation.browser.js","./pool-types":"../../node_modules/threads/dist/master/pool-types.js","./thread":"../../node_modules/threads/dist/master/thread.js"}],"../../node_modules/threads/dist/promise.js":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=()=>void 0;function t(){let t,r=!1,o=e;return[new Promise(e=>{r?e(t):o=e}),e=>{r=!0,t=e,o()}]}exports.createPromiseWithResolver=t;
},{}],"../../node_modules/threads/dist/types/master.js":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("../symbols");var r;!function(e){e.internalError="internalError",e.message="message",e.termination="termination"}(r=exports.WorkerEventType||(exports.WorkerEventType={}));
},{"../symbols":"../../node_modules/threads/dist/symbols.js"}],"../../node_modules/threads/dist/observable-promise.js":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const t=require("observable-fns"),e=()=>void 0,s=t=>t,r=t=>Promise.resolve().then(t);function i(t){throw t}function n(t){return t&&"function"==typeof t.then}class o extends t.Observable{constructor(t){super(e=>{const s=this,r=Object.assign(Object.assign({},e),{complete(){e.complete(),s.onCompletion()},error(t){e.error(t),s.onError(t)},next(t){e.next(t),s.onNext(t)}});try{return this.initHasRun=!0,t(r)}catch(i){r.error(i)}}),this.initHasRun=!1,this.fulfillmentCallbacks=[],this.rejectionCallbacks=[],this.firstValueSet=!1,this.state="pending"}onNext(t){this.firstValueSet||(this.firstValue=t,this.firstValueSet=!0)}onError(t){this.state="rejected",this.rejection=t;for(const e of this.rejectionCallbacks)r(()=>e(t))}onCompletion(){this.state="fulfilled";for(const t of this.fulfillmentCallbacks)r(()=>t(this.firstValue))}then(t,e){const r=t||s,n=e||i;let o=!1;return new Promise((t,e)=>{const s=s=>{if(!o){o=!0;try{t(n(s))}catch(r){e(r)}}};return this.initHasRun||this.subscribe({error:s}),"fulfilled"===this.state?t(r(this.firstValue)):"rejected"===this.state?(o=!0,t(n(this.rejection))):(this.fulfillmentCallbacks.push(e=>{try{t(r(e))}catch(i){s(i)}}),void this.rejectionCallbacks.push(s))})}catch(t){return this.then(void 0,t)}finally(t){const s=t||e;return this.then(t=>(s(),t),()=>s())}static from(t){return n(t)?new o(e=>{t.then(t=>{e.next(t),e.complete()},t=>{e.error(t)})}):super.from(t)}}exports.ObservablePromise=o;
},{"observable-fns":"../../node_modules/observable-fns/dist.esm/index.js"}],"../../node_modules/threads/dist/transferable.js":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("./symbols");function r(e){return!(!e||"object"!=typeof e)}function t(r){return r&&"object"==typeof r&&r[e.$transferable]}function s(t,s){if(!s){if(!r(t))throw Error();s=[t]}return{[e.$transferable]:!0,send:t,transferables:s}}exports.isTransferDescriptor=t,exports.Transfer=s;
},{"./symbols":"../../node_modules/threads/dist/symbols.js"}],"../../node_modules/threads/dist/types/messages.js":[function(require,module,exports) {
"use strict";var e,r;Object.defineProperty(exports,"__esModule",{value:!0}),function(e){e.run="run"}(e=exports.MasterMessageType||(exports.MasterMessageType={})),function(e){e.error="error",e.init="init",e.result="result",e.running="running",e.uncaughtError="uncaughtError"}(r=exports.WorkerMessageType||(exports.WorkerMessageType={}));
},{}],"../../node_modules/threads/dist/master/invocation-proxy.js":[function(require,module,exports) {
"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});const r=e(require("debug")),t=require("observable-fns"),s=require("../common"),a=require("../observable-promise"),o=require("../transferable"),n=require("../types/messages"),i=r.default("threads:master:messages");let u=1;const l=e=>Array.from(new Set(e)),d=e=>e&&e.type===n.WorkerMessageType.error,m=e=>e&&e.type===n.WorkerMessageType.result,c=e=>e&&e.type===n.WorkerMessageType.running;function f(e,r){return new t.Observable(t=>{let a;const o=n=>{if(i("Message from worker:",n.data),n.data&&n.data.uid===r)if(c(n.data))a=n.data.resultType;else if(m(n.data))"promise"===a?(void 0!==n.data.payload&&t.next(s.deserialize(n.data.payload)),t.complete(),e.removeEventListener("message",o)):(n.data.payload&&t.next(s.deserialize(n.data.payload)),n.data.complete&&(t.complete(),e.removeEventListener("message",o)));else if(d(n.data)){const r=s.deserialize(n.data.error);t.error(r),e.removeEventListener("message",o)}};return e.addEventListener("message",o),()=>e.removeEventListener("message",o)})}function p(e){if(0===e.length)return{args:[],transferables:[]};const r=[],t=[];for(const a of e)o.isTransferDescriptor(a)?(r.push(s.serialize(a.send)),t.push(...a.transferables)):r.push(s.serialize(a));return{args:r,transferables:0===t.length?t:l(t)}}function g(e,r){return(...s)=>{const o=u++,{args:l,transferables:d}=p(s),m={type:n.MasterMessageType.run,uid:o,method:r,args:l};i("Sending command to run function to worker:",m);try{e.postMessage(m,d)}catch(c){return a.ObservablePromise.from(Promise.reject(c))}return a.ObservablePromise.from(t.multicast(f(e,o)))}}function y(e,r){const t={};for(const s of r)t[s]=g(e,s);return t}exports.createProxyFunction=g,exports.createProxyModule=y;
},{"debug":"../../node_modules/threads/node_modules/debug/src/browser.js","observable-fns":"../../node_modules/observable-fns/dist.esm/index.js","../common":"../../node_modules/threads/dist/common.js","../observable-promise":"../../node_modules/threads/dist/observable-promise.js","../transferable":"../../node_modules/threads/dist/transferable.js","../types/messages":"../../node_modules/threads/dist/types/messages.js"}],"../../node_modules/threads/dist/master/spawn.js":[function(require,module,exports) {
var process = require("process");
var e=require("process"),t=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function s(e){try{u(n.next(e))}catch(t){o(t)}}function a(e){try{u(n.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(s,a)}u((n=n.apply(e,t||[])).next())})},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});const n=r(require("debug")),i=require("observable-fns"),o=require("../common"),s=require("../promise"),a=require("../symbols"),u=require("../types/master"),c=require("./invocation-proxy"),d=n.default("threads:master:messages"),m=n.default("threads:master:spawn"),l=n.default("threads:master:thread-utils"),f=e=>e&&"init"===e.type,p=e=>e&&"uncaughtError"===e.type,v=1e4;function h(e,r,n){return t(this,void 0,void 0,function*(){let t;const i=new Promise((e,i)=>{t=setTimeout(()=>i(Error(n)),r)}),o=yield Promise.race([e,i]);return clearTimeout(t),o})}function y(e){return new Promise((t,r)=>{const n=i=>{d("Message from worker before finishing initialization:",i.data),f(i.data)?(e.removeEventListener("message",n),t(i.data)):p(i.data)&&(e.removeEventListener("message",n),r(o.deserialize(i.data.error)))};e.addEventListener("message",n)})}function E(e,t){return new i.Observable(r=>{const n=e=>{const t={type:u.WorkerEventType.message,data:e.data};r.next(t)},i=e=>{l("Unhandled promise rejection event in thread:",e);const t={type:u.WorkerEventType.internalError,error:Error(e.reason)};r.next(t)};e.addEventListener("message",n),e.addEventListener("unhandledrejection",i),t.then(()=>{const t={type:u.WorkerEventType.termination};e.removeEventListener("message",n),e.removeEventListener("unhandledrejection",i),r.next(t),r.complete()})})}function g(e){const[r,n]=s.createPromiseWithResolver();return{terminate:()=>t(this,void 0,void 0,function*(){l("Terminating worker"),yield e.terminate(),n()}),termination:r}}function w(e,t,r,n){const i=r.filter(e=>e.type===u.WorkerEventType.internalError).map(e=>e.error);return Object.assign(e,{[a.$errors]:i,[a.$events]:r,[a.$terminate]:n,[a.$worker]:t})}function x(e,r){return t(this,void 0,void 0,function*(){m("Initializing new thread");const t=(yield h(y(e),r&&r.timeout?r.timeout:v,`Timeout: Did not receive an init message from worker after ${v}ms. Make sure the worker calls expose().`)).exposed,{termination:n,terminate:i}=g(e),o=E(e,n);if("function"===t.type){return w(c.createProxyFunction(e),e,o,i)}if("module"===t.type){return w(c.createProxyModule(e,t.methods),e,o,i)}{const e=t.type;throw Error(`Worker init message states unexpected type of expose(): ${e}`)}})}exports.spawn=x;
},{"debug":"../../node_modules/threads/node_modules/debug/src/browser.js","observable-fns":"../../node_modules/observable-fns/dist.esm/index.js","../common":"../../node_modules/threads/dist/common.js","../promise":"../../node_modules/threads/dist/promise.js","../symbols":"../../node_modules/threads/dist/symbols.js","../types/master":"../../node_modules/threads/dist/types/master.js","./invocation-proxy":"../../node_modules/threads/dist/master/invocation-proxy.js","process":"../../node_modules/process/browser.js"}],"../../node_modules/threads/dist/master/index.js":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("./implementation");var r=require("./pool");exports.Pool=r.Pool;var o=require("./spawn");exports.spawn=o.spawn;var t=require("./thread");exports.Thread=t.Thread,exports.Worker=e.selectWorkerImplementation();
},{"./implementation":"../../node_modules/threads/dist/master/implementation.browser.js","./pool":"../../node_modules/threads/dist/master/pool.js","./spawn":"../../node_modules/threads/dist/master/spawn.js","./thread":"../../node_modules/threads/dist/master/thread.js"}],"../../node_modules/threads/dist/worker/implementation.browser.js":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=function(){return!("undefined"==typeof self||!self.postMessage)},s=function(e,s){self.postMessage(e,s)},t=function(e){const s=s=>{e(s.data)};return self.addEventListener("message",s),()=>{self.removeEventListener("message",s)}};exports.default={isWorkerRuntime:e,postMessageToMaster:s,subscribeToMasterMessages:t};
},{}],"../../node_modules/threads/dist/worker/index.js":[function(require,module,exports) {
var process = require("process");
var e=require("process"),t=this&&this.__awaiter||function(e,t,r,s){return new(r||(r=Promise))(function(o,n){function a(e){try{u(s.next(e))}catch(t){n(t)}}function i(e){try{u(s.throw(e))}catch(t){n(t)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(a,i)}u((s=s.apply(e,t||[])).next())})},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});const s=r(require("is-observable")),o=require("../common"),n=require("../transferable"),a=require("../types/messages"),i=r(require("./implementation"));var u=require("../common");exports.registerSerializer=u.registerSerializer;var c=require("../transferable");exports.Transfer=c.Transfer;let f=!1;const l=e=>e&&e.type===a.MasterMessageType.run,p=e=>s.default(e)||d(e);function d(e){return e&&"object"==typeof e&&"function"==typeof e.subscribe}function y(e){return n.isTransferDescriptor(e)?{payload:e.send,transferables:e.transferables}:{payload:e,transferables:void 0}}function g(){const e={type:a.WorkerMessageType.init,exposed:{type:"function"}};i.default.postMessageToMaster(e)}function m(e){const t={type:a.WorkerMessageType.init,exposed:{type:"module",methods:e}};i.default.postMessageToMaster(t)}function h(e,t){const{payload:r,transferables:s}=y(t),n={type:a.WorkerMessageType.error,uid:e,error:o.serialize(r)};i.default.postMessageToMaster(n,s)}function b(e,t,r){const{payload:s,transferables:o}=y(r),n={type:a.WorkerMessageType.result,uid:e,complete:!!t||void 0,payload:s};i.default.postMessageToMaster(n,o)}function M(e,t){const r={type:a.WorkerMessageType.running,uid:e,resultType:t};i.default.postMessageToMaster(r)}function T(e){try{const r={type:a.WorkerMessageType.uncaughtError,error:o.serialize(e)};i.default.postMessageToMaster(r)}catch(t){console.error("Not reporting uncaught error back to master thread as it occured while reporting an uncaught error already.\nLatest error:",t,"\nOriginal error:",e)}}function v(e,r,s){return t(this,void 0,void 0,function*(){let t;try{t=r(...s)}catch(a){return h(e,a)}const n=p(t)?"observable":"promise";if(M(e,n),p(t))t.subscribe(t=>b(e,!1,o.serialize(t)),t=>h(e,o.serialize(t)),()=>b(e,!0));else try{const r=yield t;b(e,!0,o.serialize(r))}catch(a){h(e,o.serialize(a))}})}function x(e){if(!i.default.isWorkerRuntime())throw Error("expose() called in the master thread.");if(f)throw Error("expose() called more than once. This is not possible. Pass an object to expose() if you want to expose multiple functions.");if(f=!0,"function"==typeof e)i.default.subscribeToMasterMessages(t=>{l(t)&&!t.method&&v(t.uid,e,t.args.map(o.deserialize))}),g();else{if("object"!=typeof e||!e)throw Error(`Invalid argument passed to expose(). Expected a function or an object, got: ${e}`);i.default.subscribeToMasterMessages(t=>{l(t)&&t.method&&v(t.uid,e[t.method],t.args.map(o.deserialize))}),m(Object.keys(e).filter(t=>"function"==typeof e[t]))}}exports.expose=x,"undefined"!=typeof self&&"function"==typeof self.addEventListener&&i.default.isWorkerRuntime()&&(self.addEventListener("error",e=>{setTimeout(()=>T(e.error||e),250)}),self.addEventListener("unhandledrejection",e=>{const t=e.reason;t&&"string"==typeof t.message&&setTimeout(()=>T(t),250)})),void 0!==e&&"function"==typeof e.on&&i.default.isWorkerRuntime()&&(e.on("uncaughtException",e=>{setTimeout(()=>T(e),250)}),e.on("unhandledRejection",e=>{e&&"string"==typeof e.message&&setTimeout(()=>T(e),250)}));
},{"is-observable":"../../node_modules/is-observable/index.js","../common":"../../node_modules/threads/dist/common.js","../transferable":"../../node_modules/threads/dist/transferable.js","../types/messages":"../../node_modules/threads/dist/types/messages.js","./implementation":"../../node_modules/threads/dist/worker/implementation.browser.js","process":"../../node_modules/process/browser.js"}],"../../node_modules/threads/dist/index.js":[function(require,module,exports) {
"use strict";function e(e){for(var r in e)exports.hasOwnProperty(r)||(exports[r]=e[r])}Object.defineProperty(exports,"__esModule",{value:!0});var r=require("./common");exports.registerSerializer=r.registerSerializer,e(require("./master/index"));var i=require("./worker/index");exports.expose=i.expose;var s=require("./serializers");exports.DefaultSerializer=s.DefaultSerializer;var a=require("./transferable");exports.Transfer=a.Transfer;
},{"./common":"../../node_modules/threads/dist/common.js","./master/index":"../../node_modules/threads/dist/master/index.js","./worker/index":"../../node_modules/threads/dist/worker/index.js","./serializers":"../../node_modules/threads/dist/serializers.js","./transferable":"../../node_modules/threads/dist/transferable.js"}],"../../node_modules/threads/dist/master/register.js":[function(require,module,exports) {
var global = arguments[3];
var e=arguments[3];Object.defineProperty(exports,"__esModule",{value:!0});const r=require("./index");void 0!==e?e.Worker=r.Worker:"undefined"!=typeof window&&(window.Worker=r.Worker);
},{"./index":"../../node_modules/threads/dist/master/index.js"}],"../../node_modules/threads/register.js":[function(require,module,exports) {
require("./dist/master/register");
},{"./dist/master/register":"../../node_modules/threads/dist/master/register.js"}],"../../node_modules/timsort/build/timsort.js":[function(require,module,exports) {
var define;
var global = arguments[3];
var t,r=arguments[3];!function(r,e){if("function"==typeof t&&t.amd)t("timsort",["exports"],e);else if("undefined"!=typeof exports)e(exports);else{var i={exports:{}};e(i.exports),r.timsort=i.exports}}(this,function(t){"use strict";t.__esModule=!0,t.sort=function(t,e,i,n){if(!Array.isArray(t))throw new TypeError("Can only sort arrays");e?"function"!=typeof e&&(n=i,i=e,e=h):e=h;i||(i=0);n||(n=t.length);var s=n-i;if(s<2)return;var f=0;if(s<r)return f=o(t,i,n,e),void a(t,i,n,i+f,e);var u=new g(t,e),c=function(t){var e=0;for(;t>=r;)e|=1&t,t>>=1;return t+e}(s);do{if((f=o(t,i,n,e))<c){var l=s;l>c&&(l=c),a(t,i,i+l,i+f,e),f=l}u.pushRun(i,f),u.mergeRuns(),s-=f,i+=f}while(0!==s);u.forceMergeRuns()};var r=32,e=7,i=256,n=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9];function s(t){return t<1e5?t<100?t<10?0:1:t<1e4?t<1e3?2:3:4:t<1e7?t<1e6?5:6:t<1e9?t<1e8?7:8:9}function h(t,r){if(t===r)return 0;if(~~t===t&&~~r===r){if(0===t||0===r)return t<r?-1:1;if(t<0||r<0){if(r>=0)return-1;if(t>=0)return 1;t=-t,r=-r}var e=s(t),i=s(r),h=0;return e<i?(t*=n[i-e-1],r/=10,h=-1):e>i&&(r*=n[e-i-1],t/=10,h=1),t===r?h:t<r?-1:1}var o=String(t),a=String(r);return o===a?0:o<a?-1:1}function o(t,r,e,i){var n=r+1;if(n===e)return 1;if(i(t[n++],t[r])<0){for(;n<e&&i(t[n],t[n-1])<0;)n++;!function(t,r,e){e--;for(;r<e;){var i=t[r];t[r++]=t[e],t[e--]=i}}(t,r,n)}else for(;n<e&&i(t[n],t[n-1])>=0;)n++;return n-r}function a(t,r,e,i,n){for(i===r&&i++;i<e;i++){for(var s=t[i],h=r,o=i;h<o;){var a=h+o>>>1;n(s,t[a])<0?o=a:h=a+1}var f=i-h;switch(f){case 3:t[h+3]=t[h+2];case 2:t[h+2]=t[h+1];case 1:t[h+1]=t[h];break;default:for(;f>0;)t[h+f]=t[h+f-1],f--}t[h]=s}}function f(t,r,e,i,n,s){var h=0,o=0,a=1;if(s(t,r[e+n])>0){for(o=i-n;a<o&&s(t,r[e+n+a])>0;)h=a,(a=1+(a<<1))<=0&&(a=o);a>o&&(a=o),h+=n,a+=n}else{for(o=n+1;a<o&&s(t,r[e+n-a])<=0;)h=a,(a=1+(a<<1))<=0&&(a=o);a>o&&(a=o);var f=h;h=n-a,a=n-f}for(h++;h<a;){var u=h+(a-h>>>1);s(t,r[e+u])>0?h=u+1:a=u}return a}function u(t,r,e,i,n,s){var h=0,o=0,a=1;if(s(t,r[e+n])<0){for(o=n+1;a<o&&s(t,r[e+n-a])<0;)h=a,(a=1+(a<<1))<=0&&(a=o);a>o&&(a=o);var f=h;h=n-a,a=n-f}else{for(o=i-n;a<o&&s(t,r[e+n+a])>=0;)h=a,(a=1+(a<<1))<=0&&(a=o);a>o&&(a=o),h+=n,a+=n}for(h++;h<a;){var u=h+(a-h>>>1);s(t,r[e+u])<0?a=u:h=u+1}return a}var g=function(){function t(r,n){!function(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,t),this.array=null,this.compare=null,this.minGallop=e,this.length=0,this.tmpStorageLength=i,this.stackLength=0,this.runStart=null,this.runLength=null,this.stackSize=0,this.array=r,this.compare=n,this.length=r.length,this.length<2*i&&(this.tmpStorageLength=this.length>>>1),this.tmp=new Array(this.tmpStorageLength),this.stackLength=this.length<120?5:this.length<1542?10:this.length<119151?19:40,this.runStart=new Array(this.stackLength),this.runLength=new Array(this.stackLength)}return t.prototype.pushRun=function(t,r){this.runStart[this.stackSize]=t,this.runLength[this.stackSize]=r,this.stackSize+=1},t.prototype.mergeRuns=function(){for(;this.stackSize>1;){var t=this.stackSize-2;if(t>=1&&this.runLength[t-1]<=this.runLength[t]+this.runLength[t+1]||t>=2&&this.runLength[t-2]<=this.runLength[t]+this.runLength[t-1])this.runLength[t-1]<this.runLength[t+1]&&t--;else if(this.runLength[t]>this.runLength[t+1])break;this.mergeAt(t)}},t.prototype.forceMergeRuns=function(){for(;this.stackSize>1;){var t=this.stackSize-2;t>0&&this.runLength[t-1]<this.runLength[t+1]&&t--,this.mergeAt(t)}},t.prototype.mergeAt=function(t){var r=this.compare,e=this.array,i=this.runStart[t],n=this.runLength[t],s=this.runStart[t+1],h=this.runLength[t+1];this.runLength[t]=n+h,t===this.stackSize-3&&(this.runStart[t+1]=this.runStart[t+2],this.runLength[t+1]=this.runLength[t+2]),this.stackSize--;var o=u(e[s],e,i,n,0,r);i+=o,0!==(n-=o)&&0!==(h=f(e[i+n-1],e,s,h,h-1,r))&&(n<=h?this.mergeLow(i,n,s,h):this.mergeHigh(i,n,s,h))},t.prototype.mergeLow=function(t,r,i,n){var s=this.compare,h=this.array,o=this.tmp,a=0;for(a=0;a<r;a++)o[a]=h[t+a];var g=0,c=i,l=t;if(h[l++]=h[c++],0!=--n)if(1!==r){for(var p=this.minGallop;;){var v=0,m=0,k=!1;do{if(s(h[c],o[g])<0){if(h[l++]=h[c++],m++,v=0,0==--n){k=!0;break}}else if(h[l++]=o[g++],v++,m=0,1==--r){k=!0;break}}while((v|m)<p);if(k)break;do{if(0!==(v=u(h[c],o,g,r,0,s))){for(a=0;a<v;a++)h[l+a]=o[g+a];if(l+=v,g+=v,(r-=v)<=1){k=!0;break}}if(h[l++]=h[c++],0==--n){k=!0;break}if(0!==(m=f(o[g],h,c,n,0,s))){for(a=0;a<m;a++)h[l+a]=h[c+a];if(l+=m,c+=m,0===(n-=m)){k=!0;break}}if(h[l++]=o[g++],1==--r){k=!0;break}p--}while(v>=e||m>=e);if(k)break;p<0&&(p=0),p+=2}if(this.minGallop=p,p<1&&(this.minGallop=1),1===r){for(a=0;a<n;a++)h[l+a]=h[c+a];h[l+n]=o[g]}else{if(0===r)throw new Error("mergeLow preconditions were not respected");for(a=0;a<r;a++)h[l+a]=o[g+a]}}else{for(a=0;a<n;a++)h[l+a]=h[c+a];h[l+n]=o[g]}else for(a=0;a<r;a++)h[l+a]=o[g+a]},t.prototype.mergeHigh=function(t,r,i,n){var s=this.compare,h=this.array,o=this.tmp,a=0;for(a=0;a<n;a++)o[a]=h[i+a];var g=t+r-1,c=n-1,l=i+n-1,p=0,v=0;if(h[l--]=h[g--],0!=--r)if(1!==n){for(var m=this.minGallop;;){var k=0,L=0,w=!1;do{if(s(o[c],h[g])<0){if(h[l--]=h[g--],k++,L=0,0==--r){w=!0;break}}else if(h[l--]=o[c--],L++,k=0,1==--n){w=!0;break}}while((k|L)<m);if(w)break;do{if(0!==(k=r-u(o[c],h,t,r,r-1,s))){for(r-=k,v=(l-=k)+1,p=(g-=k)+1,a=k-1;a>=0;a--)h[v+a]=h[p+a];if(0===r){w=!0;break}}if(h[l--]=o[c--],1==--n){w=!0;break}if(0!==(L=n-f(h[g],o,0,n,n-1,s))){for(n-=L,v=(l-=L)+1,p=(c-=L)+1,a=0;a<L;a++)h[v+a]=o[p+a];if(n<=1){w=!0;break}}if(h[l--]=h[g--],0==--r){w=!0;break}m--}while(k>=e||L>=e);if(w)break;m<0&&(m=0),m+=2}if(this.minGallop=m,m<1&&(this.minGallop=1),1===n){for(v=(l-=r)+1,p=(g-=r)+1,a=r-1;a>=0;a--)h[v+a]=h[p+a];h[l]=o[c]}else{if(0===n)throw new Error("mergeHigh preconditions were not respected");for(p=l-(n-1),a=0;a<n;a++)h[p+a]=o[a]}}else{for(v=(l-=r)+1,p=(g-=r)+1,a=r-1;a>=0;a--)h[v+a]=h[p+a];h[l]=o[c]}else for(p=l-(n-1),a=0;a<n;a++)h[p+a]=o[a]},t}()});
},{}],"../../node_modules/timsort/index.js":[function(require,module,exports) {
module.exports=require("./build/timsort.js");
},{"./build/timsort.js":"../../node_modules/timsort/build/timsort.js"}],"../../node_modules/os-browserify/browser.js":[function(require,module,exports) {
exports.endianness=function(){return"LE"},exports.hostname=function(){return"undefined"!=typeof location?location.hostname:""},exports.loadavg=function(){return[]},exports.uptime=function(){return 0},exports.freemem=function(){return Number.MAX_VALUE},exports.totalmem=function(){return Number.MAX_VALUE},exports.cpus=function(){return[]},exports.type=function(){return"Browser"},exports.release=function(){return"undefined"!=typeof navigator?navigator.appVersion:""},exports.networkInterfaces=exports.getNetworkInterfaces=function(){return{}},exports.arch=function(){return"javascript"},exports.platform=function(){return"browser"},exports.tmpdir=exports.tmpDir=function(){return"/tmp"},exports.EOL="\n",exports.homedir=function(){return"/"};
},{}],"../src/methods/Loss.js":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ALL_LOSSES=exports.HINGELoss=exports.MSLELoss=exports.WAPELoss=exports.MAPELoss=exports.MAELoss=exports.BinaryLoss=exports.MBELoss=exports.MSELoss=void 0;var s=require("../utils/Utils");exports.MSELoss=function(s,o){var t=0;return o.forEach(function(o,r){t+=Math.pow(s[r]-o,2)}),t/o.length},exports.MBELoss=function(s,o){var t=0;return o.forEach(function(o,r){t+=s[r]-o}),t/o.length},exports.BinaryLoss=function(s,o){var t=0;return o.forEach(function(o,r){t+=Math.round(2*s[r])!==Math.round(2*o)?1:0}),t/o.length},exports.MAELoss=function(s,o){var t=0;return o.forEach(function(o,r){t+=Math.abs(s[r]-o)}),t/o.length},exports.MAPELoss=function(s,o){var t=0;return o.forEach(function(o,r){t+=Math.abs((o-s[r])/Math.max(s[r],1e-15))}),t/o.length},exports.WAPELoss=function(o,t){var r=0;return t.forEach(function(s,t){r+=Math.abs(o[t]-s)}),r/s.sum(o)},exports.MSLELoss=function(s,o){var t=0;return o.forEach(function(o,r){t+=Math.log(Math.max(s[r],1e-15))-Math.log(Math.max(o,1e-15))}),t/o.length},exports.HINGELoss=function(s,o){var t=0;return o.forEach(function(o,r){t+=Math.max(0,1-o*s[r])}),t/o.length},exports.ALL_LOSSES={MSELoss:exports.MSELoss,MBELoss:exports.MBELoss,BinaryLoss:exports.BinaryLoss,MAELoss:exports.MAELoss,MAPELoss:exports.MAPELoss,WAPELoss:exports.WAPELoss,MSLELoss:exports.MSLELoss,HINGELoss:exports.HINGELoss};
},{"../utils/Utils":"../src/utils/Utils.js"}],"../src/methods/Selection.js":[function(require,module,exports) {
"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function r(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}function n(e,r){return!r||"object"!==t(r)&&"function"!=typeof r?o(e):r}function o(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var c=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),s=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),f=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.hasOwnProperty.call(t,r)&&c(e,t,r);return s(e,t),e};Object.defineProperty(exports,"__esModule",{value:!0}),exports.TournamentSelection=exports.PowerSelection=exports.FitnessProportionateSelection=exports.Selection=void 0;var p=f(require("timsort")),h=require("../utils/Utils"),y=function t(){a(this,t)};exports.Selection=y;var v=function(t){function e(){return a(this,e),n(this,i(e).apply(this,arguments))}return u(e,y),r(e,[{key:"select",value:function(t){var e,r,n,o=0,i=0,u=!0,l=!1,a=void 0;try{for(var c,s=t[Symbol.iterator]();!(u=(c=s.next()).done);u=!0){var f=c.value;i=Math.min(null!==(e=f.score)&&void 0!==e?e:i,i),o+=null!==(r=f.score)&&void 0!==r?r:0}}catch(_){l=!0,a=_}finally{try{u||null==s.return||s.return()}finally{if(l)throw a}}o+=(i=Math.abs(i))*t.length;var p=h.randDouble(0,o),y=0,v=!0,b=!1,d=void 0;try{for(var m,w=t[Symbol.iterator]();!(v=(m=w.next()).done);v=!0){var O=m.value;if(p<(y+=(null!==(n=O.score)&&void 0!==n?n:0)+i))return O}}catch(_){b=!0,d=_}finally{try{v||null==w.return||w.return()}finally{if(b)throw d}}return h.pickRandom(t)}}]),e}();exports.FitnessProportionateSelection=v;var b=function(t){function e(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4;return a(this,e),(t=n(this,i(e).call(this))).power=r,t}return u(e,y),r(e,[{key:"select",value:function(t){return t[Math.floor(Math.pow(Math.random(),this.power)*t.length)]}}]),e}();exports.PowerSelection=b;var d=function(t){function e(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5;return a(this,e),(t=n(this,i(e).call(this))).size=r,t.probability=o,t}return u(e,y),r(e,[{key:"select",value:function(t){if(this.size>t.length)throw new Error("Your tournament size should be lower than the population size, please change methods.selection.TOURNAMENT.size");for(var e=[],r=0;r<this.size;r++)e.push(h.pickRandom(t));p.sort(e,function(t,e){return void 0===e.score||void 0===t.score?0:e.score-t.score});for(var n=0;n<this.size;n++)if(Math.random()<this.probability||n===this.size-1)return e[n];return h.pickRandom(t)}}]),e}();exports.TournamentSelection=d;
},{"timsort":"../../node_modules/timsort/index.js","../utils/Utils":"../src/utils/Utils.js"}],"../src/interfaces/EvolveOptions.js":[function(require,module,exports) {
"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function i(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}var n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.EvolveOptions=void 0;var s=require("activations/build/src"),o=n(require("os")),u=require("../architecture/Network"),r=require("../methods/Loss"),c=require("../methods/Mutation"),a=require("../methods/Selection"),h=function(){function e(){t(this,e),this._speciesDistanceThreshold=4,this._c1=1,this._c2=1,this._c3=1,this._survivors=.8,this._input=1,this._output=1,this._generation=0,this._elitism=1,this._equal=!0,this._clear=!1,this._populationSize=50,this._mutationRate=.6,this._mutationAmount=5,this._selection=new a.FitnessProportionateSelection,this._loss=r.MSELoss,this._mutations=c.FEEDFORWARD_MUTATIONS,this._activations=Object.values(s.ALL_ACTIVATIONS),this._template=new u.Network(this._input,this._output),this._maxNodes=1/0,this._maxConnections=1/0,this._maxGates=1/0,this._threads=o.default.cpus().length,this._log=-1,this._iterations=1e3,this._error=.05,this._maxStagnation=3}return i(e,[{key:"maxStagnation",get:function(){return this._maxStagnation},set:function(t){this._maxStagnation=t}},{key:"speciesDistanceThreshold",get:function(){return this._speciesDistanceThreshold},set:function(t){this._speciesDistanceThreshold=t}},{key:"c1",get:function(){return this._c1},set:function(t){this._c1=t}},{key:"c2",get:function(){return this._c2},set:function(t){this._c2=t}},{key:"c3",get:function(){return this._c3},set:function(t){this._c3=t}},{key:"survivors",get:function(){return this._survivors},set:function(t){this._survivors=t}},{key:"threads",get:function(){return this._threads},set:function(t){this._threads=t}},{key:"input",get:function(){return this._input},set:function(t){this._input=t}},{key:"output",get:function(){return this._output},set:function(t){this._output=t}},{key:"dataset",get:function(){return this._dataset},set:function(t){this._dataset=t}},{key:"generation",get:function(){return this._generation},set:function(t){this._generation=t}},{key:"training",get:function(){return this._training},set:function(t){this._training=t}},{key:"template",get:function(){return this._template},set:function(t){this._template=t}},{key:"mutations",get:function(){return this._mutations},set:function(t){this._mutations=t}},{key:"activations",get:function(){return this._activations},set:function(t){this._activations=t}},{key:"selection",get:function(){return this._selection},set:function(t){this._selection=t}},{key:"mutationRate",get:function(){return this._mutationRate},set:function(t){this._mutationRate=t}},{key:"mutationAmount",get:function(){return this._mutationAmount},set:function(t){this._mutationAmount=t}},{key:"elitism",get:function(){return this._elitism},set:function(t){this._elitism=t}},{key:"populationSize",get:function(){return this._populationSize},set:function(t){this._populationSize=t}},{key:"fitnessFunction",get:function(){return this._fitnessFunction},set:function(t){this._fitnessFunction=t}},{key:"loss",get:function(){return this._loss},set:function(t){this._loss=t}},{key:"maxNodes",get:function(){return this._maxNodes},set:function(t){this._maxNodes=t}},{key:"maxConnections",get:function(){return this._maxConnections},set:function(t){this._maxConnections=t}},{key:"maxGates",get:function(){return this._maxGates},set:function(t){this._maxGates=t}},{key:"equal",get:function(){return this._equal},set:function(t){this._equal=t}},{key:"log",get:function(){return this._log},set:function(t){this._log=t}},{key:"schedule",get:function(){return this._schedule},set:function(t){this._schedule=t}},{key:"clear",get:function(){return this._clear},set:function(t){this._clear=t}},{key:"iterations",get:function(){return this._iterations},set:function(t){this._iterations=t}},{key:"error",get:function(){return this._error},set:function(t){this._error=t}}]),e}();exports.EvolveOptions=h;
},{"activations/build/src":"../../node_modules/activations/build/src/index.js","os":"../../node_modules/os-browserify/browser.js","../architecture/Network":"../src/architecture/Network.js","../methods/Loss":"../src/methods/Loss.js","../methods/Mutation":"../src/methods/Mutation.js","../methods/Selection":"../src/methods/Selection.js"}],"../src/architecture/Species.js":[function(require,module,exports) {
"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&i(t,e,r);return s(t,e),t};Object.defineProperty(exports,"__esModule",{value:!0}),exports.Species=void 0;var o=n(require("timsort")),a=require("../utils/Utils"),u=require("./Network"),c=function(){function t(r){e(this,t),this.representative=r,this.representative.species=this,this.members=new Set,this.members.add(r),this._score=0,this.lastScore=0,this._stagnation=0}return r(t,[{key:"put",value:function(e,t,r,i,s){return e.distance(this.representative,t,r,i)<s&&(this.forcePut(e),!0)}},{key:"forcePut",value:function(e){void 0!==e&&(this.members.add(e),e.species=this)}},{key:"evaluateScore",value:function(){var e=0;this.members.forEach(function(t){var r;return e+=null!==(r=t.score)&&void 0!==r?r:0});var t=e/this.members.size;this.lastScore<t?this._stagnation++:this._stagnation=0,this._score=t}},{key:"reset",value:function(){this.representative=a.pickRandom(this.members),this.members.forEach(function(e){return e.species=null}),this.members.clear(),this.members.add(this.representative),this.representative.species=this,this.lastScore=this.score,this._score=0}},{key:"kill",value:function(e){var t=Array.from(this.members);o.sort(t,function(e,t){return void 0===e.score||void 0===t.score?0:e.score-t.score});for(var r=Math.floor(e*this.members.size),i=0;i<r;i++)this.members.delete(t[i]),t[i].species=null}},{key:"breed",value:function(){return u.Network.crossOver(a.pickRandom(this.members),a.pickRandom(this.members))}},{key:"size",value:function(){return this.members.size}},{key:"getBest",value:function(){var e=Array.from(this.members);return e[a.maxValueIndex(e.map(function(e){var t;return null!==(t=e.score)&&void 0!==t?t:-1/0}))]}},{key:"print",value:function(){console.log("Species={Members: "+this.members.size+"; Score: "+this._score+"; Stagnation: "+this.stagnation+"}")}},{key:"score",get:function(){return this._score}},{key:"stagnation",get:function(){return this._stagnation}}]),t}();exports.Species=c;
},{"timsort":"../../node_modules/timsort/index.js","../utils/Utils":"../src/utils/Utils.js","./Network":"../src/architecture/Network.js"}],"../src/NEAT.js":[function(require,module,exports) {
"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function n(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}var i=this&&this.__createBinding||(Object.create?function(t,e,n,i){void 0===i&&(i=n),Object.defineProperty(t,i,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,i){void 0===i&&(i=n),t[i]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),r=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.hasOwnProperty.call(t,n)&&i(e,t,n);return o(e,t),e},s=this&&this.__awaiter||function(t,e,n,i){return new(n||(n=Promise))(function(o,r){function s(t){try{u(i.next(t))}catch(e){r(e)}}function a(t){try{u(i.throw(t))}catch(e){r(e)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}u((i=i.apply(t,e||[])).next())})};Object.defineProperty(exports,"__esModule",{value:!0}),exports.NEAT=void 0;var a=r(require("timsort")),u=require("./architecture/Species"),c=require("./methods/Mutation"),p=require("./utils/Utils"),h=function(){function e(n){if(t(this,e),!n.fitnessFunction)throw new ReferenceError("No fitness function given!");this._options=n,this.population=[],this.species=new Set;for(var i=0;i<this.options.populationSize;i++)this.population.push(this.options.template.copy())}return n(e,[{key:"mutateRandom",value:function(t){var e=this,n=this.options.mutations.filter(function(n){return n.constructor.name!==c.AddNodeMutation.constructor.name||t.nodes.length<e.options.maxNodes||n.constructor.name!==c.AddConnectionMutation.constructor.name||t.connections.size<e.options.maxConnections||n.constructor.name!==c.AddGateMutation.constructor.name||t.gates.size<e.options.maxGates});t.mutate(p.pickRandom(n),{allowedActivations:this.options.activations})}},{key:"evolve",value:function(){return s(this,void 0,void 0,regeneratorRuntime.mark(function t(){var e,n,i,o,r,s,a,u,c,p,h;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.genSpecies(),t.next=3,this.evaluate();case 3:if(this.sort(),this.species.forEach(function(t){return t.evaluateScore()}),this.kill(1-this.options.survivors),this.removeExtinctSpecies(),this.reproduce(),this.mutate(),!this.options.training){t.next=29;break}for(e=!0,n=!1,i=void 0,t.prev=13,o=this.population[Symbol.iterator]();!(e=(r=o.next()).done);e=!0)r.value.train(this.options.training);t.next=21;break;case 17:t.prev=17,t.t0=t.catch(13),n=!0,i=t.t0;case 21:t.prev=21,t.prev=22,e||null==o.return||o.return();case 24:if(t.prev=24,!n){t.next=27;break}throw i;case 27:return t.finish(24);case 28:return t.finish(21);case 29:return t.next=31,this.evaluate();case 31:if(this.sort(),(s=this.population[0].copy()).score=this.population[0].score,!(this.options.log>0&&this.options.generation%this.options.log==0)){t.next=56;break}for(console.log("\n---------------------------"),console.log("Generation: "+this.options.generation+"; Species: "+this.species.size+"; Score: "+this.population[0].score),a=!0,u=!1,c=void 0,t.prev=40,p=this.species[Symbol.iterator]();!(a=(h=p.next()).done);a=!0)h.value.print();t.next=48;break;case 44:t.prev=44,t.t1=t.catch(40),u=!0,c=t.t1;case 48:t.prev=48,t.prev=49,a||null==p.return||p.return();case 51:if(t.prev=51,!u){t.next=54;break}throw c;case 54:return t.finish(51);case 55:return t.finish(48);case 56:return this.population.forEach(function(t){return t.score=void 0}),this.options.generation++,t.abrupt("return",s);case 59:case"end":return t.stop()}},t,this,[[13,17,21,29],[22,,24,28],[40,44,48,56],[49,,51,55]])}))}},{key:"mutate",value:function(t){var e=this;this.population.filter(function(){return Math.random()<=e.options.mutationRate}).forEach(function(n){for(var i=0;i<e.options.mutationAmount;i++)t?n.mutate(t):e.mutateRandom(n)})}},{key:"evaluate",value:function(){var t,e;return s(this,void 0,void 0,regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return this.options.clear&&this.population.forEach(function(t){return t.clear()}),n.next=3,null===(e=(t=this.options).fitnessFunction)||void 0===e?void 0:e.call(t,this.population,this.options.dataset);case 3:return this.sort(),n.abrupt("return",this.population[0]);case 5:case"end":return n.stop()}},n,this)}))}},{key:"sort",value:function(){a.sort(this.population,function(t,e){return void 0===t.score||void 0===e.score?0:e.score-t.score})}},{key:"getFittest",value:function(){return s(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0!==this.population[this.population.length-1].score){t.next=3;break}return t.next=3,this.evaluate();case 3:return this.sort(),t.abrupt("return",this.population[0]);case 5:case"end":return t.stop()}},t,this)}))}},{key:"getAverage",value:function(){return s(this,void 0,void 0,regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0!==this.population[this.population.length-1].score){t.next=3;break}return t.next=3,this.evaluate();case 3:return e=0,this.population.map(function(t){return t.score}).forEach(function(t){return e+=null!=t?t:0}),t.abrupt("return",e/this.population.length);case 6:case"end":return t.stop()}},t,this)}))}},{key:"replacePopulation",value:function(t){this.population=t,this.options.populationSize=t.length}},{key:"reproduce",value:function(){var t=Array.from(this.species);if(0!==t.length)for(var e=0;e<this.population.length;e++)if(null===this.population[e].species){var n=this.options.selection.select(t);this.population[e]=n.breed(),n.forcePut(this.population[e])}}},{key:"removeExtinctSpecies",value:function(){for(var t=0,e=Array.from(this.species);t<e.length;t++){var n=e[t];(n.size()<=1||n.stagnation>this.options.maxStagnation)&&(n.members.forEach(function(t){return t.species=null}),this.species.delete(n))}}},{key:"kill",value:function(t){this.species.forEach(function(e){return e.kill(t)})}},{key:"genSpecies",value:function(){var t=this;this.species.forEach(function(t){return t.reset()}),this.population.filter(function(t){return null===t.species}).forEach(function(e){for(var n=!1,i=0,o=Array.from(t.species);i<o.length;i++){if(o[i].put(e,t.options.c1,t.options.c2,t.options.c3,t.options.speciesDistanceThreshold)){n=!0;break}}n||t.species.add(new u.Species(e))})}},{key:"options",get:function(){return this._options},set:function(t){this._options=t}}]),e}();exports.NEAT=h;
},{"timsort":"../../node_modules/timsort/index.js","./architecture/Species":"../src/architecture/Species.js","./methods/Mutation":"../src/methods/Mutation.js","./utils/Utils":"../src/utils/Utils.js"}],"../src/architecture/Network.js":[function(require,module,exports) {
"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function n(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.hasOwnProperty.call(e,n)&&o(t,e,n);return r(t,e),t},a=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(r,i){function a(e){try{u(o.next(e))}catch(t){i(t)}}function s(e){try{u(o.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}u((o=o.apply(e,t||[])).next())})};Object.defineProperty(exports,"__esModule",{value:!0}),exports.Network=void 0;var s=require("threads"),u=require("threads/dist");require("threads/register");var c=i(require("timsort")),d=require("../enums/NodeType"),h=require("../interfaces/EvolveOptions"),f=require("../methods/Loss"),l=require("../methods/Mutation"),v=require("../NEAT"),p=require("../utils/Utils"),g=require("./Node"),m=function(){function t(n,o){e(this,t),this.inputSize=n,this.outputSize=o,this.nodes=[],this.connections=new Set,this.gates=new Set,this.score=void 0,this.species=null;for(var r=0;r<n;r++)this.nodes.push(new g.Node(d.NodeType.INPUT));for(var i=0;i<o;i++)this.nodes.push(new g.Node(d.NodeType.OUTPUT));for(var a=0;a<this.inputSize;a++)for(var s=this.inputSize;s<this.outputSize+this.inputSize;s++){var u=(Math.random()-.5)*this.inputSize*Math.sqrt(2/this.inputSize);this.connect(this.nodes[a],this.nodes[s],u)}}return n(t,[{key:"copy",value:function(){return t.fromJSON(this.toJSON())}},{key:"connect",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=e.connect(t,n);return this.connections.add(o),o}},{key:"activate",value:function(e){var t,n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e.length!==this.inputSize)throw new RangeError("Input size of dataset is different to network input size!");return o.dropoutRate=null!==(t=o.dropoutRate)&&void 0!==t?t:0,o.trace=null===(n=o.trace)||void 0===n||n,this.nodes.filter(function(e){return e.isInputNode()}).forEach(function(t,n){return t.activate(e[n],o.trace)}),this.nodes.filter(function(e){return e.isHiddenNode()}).forEach(function(e){o.dropoutRate&&(e.mask=Math.random()>=o.dropoutRate?1:0),e.activate(void 0,o.trace)}),this.nodes.filter(function(e){return e.isOutputNode()}).map(function(e){return e.activate(void 0,o.trace)})}},{key:"propagate",value:function(e){var t,n,o,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(r.rate=null!==(t=r.rate)&&void 0!==t?t:.3,r.momentum=null!==(n=r.momentum)&&void 0!==n?n:0,r.update=null!==(o=r.update)&&void 0!==o&&o,e.length!==this.outputSize)throw new Error("Output target length should match network output length");this.nodes.filter(function(e){return e.isOutputNode()}).forEach(function(t,n){return t.propagate(e[n],r)});for(var i=this.nodes.length-1;i>=0;i--)this.nodes[i].isHiddenNode()&&this.nodes[i].propagate(void 0,r);this.nodes.filter(function(e){return e.isInputNode()}).forEach(function(e){return e.propagate(void 0,r)})}},{key:"clear",value:function(){this.nodes.forEach(function(e){return e.clear()})}},{key:"disconnect",value:function(e,t){var n=this;return this.connections.forEach(function(o){o.from===e&&o.to===t&&(null!==o.gateNode&&n.removeGate(o),n.connections.delete(o))}),e.disconnect(t)}},{key:"addGate",value:function(e,t){if(-1===this.nodes.indexOf(e))throw new ReferenceError("This node is not part of the network!");null===t.gateNode&&(e.addGate(t),this.gates.add(t))}},{key:"removeGate",value:function(e){if(!this.gates.has(e))throw new Error("This connection is not gated!");this.gates.delete(e),null!==e.gateNode&&e.gateNode.removeGate(e)}},{key:"removeNode",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(new l.SubNodeMutation).keepGates;if(!this.nodes.includes(e))throw new ReferenceError("This node does not exist in the network!");this.disconnect(e,e);var o=[],r=[],i=[],a=[];for(e.incoming.forEach(function(i){n&&null!==i.gateNode&&i.gateNode!==e&&r.push(i.gateNode),o.push(i.from),t.disconnect(i.from,e)}),e.outgoing.forEach(function(o){n&&null!==o.gateNode&&o.gateNode!==e&&r.push(o.gateNode),i.push(o.to),t.disconnect(e,o.to)}),o.forEach(function(e){i.forEach(function(n){e.isProjectingTo(n)||a.push(t.connect(e,n))})});r.length>0&&a.length>0;){var s=r.shift();if(void 0!==s){var u=p.pickRandom(a);this.addGate(s,u),p.removeFromArray(a,u)}}e.gated.forEach(this.removeGate),p.removeFromArray(this.nodes,e)}},{key:"mutate",value:function(e,t){e.mutate(this,t)}},{key:"mutateRandom",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.ALL_MUTATIONS,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};0!==e.length&&this.mutate(p.pickRandom(e),t)}},{key:"train",value:function(e){if(e.dataset[0].input.length!==this.inputSize||e.dataset[0].output.length!==this.outputSize)throw new Error("Dataset input/output size should be same as network input/output size!");var t,n,o,r,i=Date.now();if(e.iterations<=0&&e.error<=0)throw new Error("At least one of the following options must be specified: error, iterations");e.crossValidateTestSize>0?(t=Math.ceil((1-e.crossValidateTestSize)*e.dataset.length),n=e.dataset.slice(0,t),o=e.dataset.slice(t)):(n=e.dataset,o=[]);for(var a=0,s=1;s>e.error&&(e.iterations<=0||a<e.iterations);)a++,r=e.rate.calc(a),s=this.trainEpoch({dataset:n,batchSize:e.batchSize,trainingRate:r,momentum:e.momentum,loss:e.loss,dropoutRate:e.dropout}),e.clear&&this.clear(),e.crossValidateTestSize>0&&(s=this.test(o,e.loss),e.clear&&this.clear()),e.shuffle&&p.shuffle(e.dataset),e.log>0&&a%e.log==0&&console.log("iteration number",a,"error",s,"training rate",r),e.schedule&&a%e.schedule.iterations==0&&e.schedule.function(s,a);return e.clear&&this.clear(),{error:s,iterations:a,time:Date.now()-i}}},{key:"test",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f.MSELoss,n=0,o=!0,r=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(o=(a=s.next()).done);o=!0){var u=a.value,c=u.input;n+=t(u.output,this.activate(c,{trace:!1}))}}catch(d){r=!0,i=d}finally{try{o||null==s.return||s.return()}finally{if(r)throw i}}return n/e.length}},{key:"toJSON",value:function(){for(var e={nodes:[],connections:[],inputSize:this.inputSize,outputSize:this.outputSize},t=0;t<this.nodes.length;t++)this.nodes[t].index=t;return this.nodes.forEach(function(t){e.nodes.push(t.toJSON()),0!==t.selfConnection.weight&&e.connections.push(t.selfConnection.toJSON())}),this.connections.forEach(function(t){e.connections.push(t.toJSON())}),e}},{key:"evolve",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new h.EvolveOptions;return a(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n,o,r,i,c,d,h,l,p;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.fitnessFunction||!e.dataset||e.dataset[0].input.length===this.inputSize&&e.dataset[0].output.length===this.outputSize){t.next=2;break}throw new Error("Dataset input/output size should be same as network input/output size!");case 2:e.input=this.inputSize,e.output=this.outputSize,n=Date.now(),o=null,e.fitnessFunction||(r=JSON.stringify(e.dataset),i=Object.values(f.ALL_LOSSES).indexOf(e.loss),o=u.Pool(function(){return s.spawn(new s.Worker("../multithreading/TestWorker"))},e.threads),e.fitnessFunction=function(e){return a(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n,s,u,c,d,h,f=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(n=!0,s=!1,u=void 0,t.prev=3,c=function(){var e=h.value;o&&o.queue(function(t){return a(f,void 0,void 0,regeneratorRuntime.mark(function n(){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0!==e){n.next=2;break}throw new ReferenceError;case 2:return n.next=4,t(r,JSON.stringify(e.toJSON()),i);case 4:e.score=-n.sent;case 5:case"end":return n.stop()}},n)}))})},d=e[Symbol.iterator]();!(n=(h=d.next()).done);n=!0)c();t.next=12;break;case 8:t.prev=8,t.t0=t.catch(3),s=!0,u=t.t0;case 12:t.prev=12,t.prev=13,n||null==d.return||d.return();case 15:if(t.prev=15,!s){t.next=18;break}throw u;case 18:return t.finish(15);case 19:return t.finish(12);case 20:if(!o){t.next=23;break}return t.next=23,o.completed();case 23:case"end":return t.stop()}},t,null,[[3,8,12,20],[13,,15,19]])}))}),e.template=this,c=new v.NEAT(e),h=0,l=null;case 11:return t.next=13,c.evolve();case 13:if((p=t.sent).score){t.next=16;break}throw new ReferenceError;case 16:d=p.score,(1===c.options.generation||p.score>h)&&(h=p.score,l=p),e.schedule&&c.options.generation%e.schedule.iterations==0&&e.schedule.function(p.score,-d,c.options.generation);case 19:if(d<-e.error&&(0===e.iterations||c.options.generation<e.iterations)){t.next=11;break}case 20:if(l&&(this.nodes=l.nodes,this.connections=l.connections,this.gates=l.gates,e.clear&&this.clear()),null===o){t.next=24;break}return t.next=24,o.terminate();case 24:return t.abrupt("return",{error:-d,iterations:c.options.generation,time:Date.now()-n});case 25:case"end":return t.stop()}},t,this)}))}},{key:"distance",value:function(e,t,n,o){for(var r=0;r<this.nodes.length;r++)this.nodes[r].index=r;for(var i=0;i<e.nodes.length;i++)e.nodes[i].index=i;var a=0,s=0,u=Array.from(this.connections).filter(function(e){return void 0!==e}),d=Array.from(e.connections).filter(function(e){return void 0!==e});if(c.sort(u,function(e,t){return e.getInnovationID()-t.getInnovationID()}),c.sort(d,function(e,t){return e.getInnovationID()-t.getInnovationID()}),u[u.length-1].getInnovationID()<d[d.length-1].getInnovationID())return e.distance(this,t,n,o);for(var h=0,f=0,l=0;a<u.length&&s<d.length;){var v=u[a],p=d[s];if(void 0===v||void 0===p)throw Error("HERE");v.getInnovationID()===p.getInnovationID()?(a++,s++,f+=Math.abs(v.weight-p.weight),l++):a>s?(s++,h++):(a++,h++)}f/=l;var g=this.connections.size-a,m=Math.max(this.connections.size,e.connections.size);return m<20&&(m=1),t*g/m+n*h/m+o*f}},{key:"trainEpoch",value:function(e){for(var t=0,n=0;n<e.dataset.length;n++){var o=e.dataset[n].input,r=e.dataset[n].output,i=(n+1)%e.batchSize==0||n+1===e.dataset.length,a=this.activate(o,{dropoutRate:e.dropoutRate});this.propagate(r,{rate:e.trainingRate,momentum:e.momentum,update:i}),t+=e.loss(r,a)}return t/e.dataset.length}}],[{key:"fromJSON",value:function(e){var n=new t(e.inputSize,e.outputSize);return n.nodes=[],n.connections.clear(),e.nodes.map(function(e){return(new g.Node).fromJSON(e)}).forEach(function(e){return n.nodes[e.index]=e}),e.connections.forEach(function(e){var t=n.connect(n.nodes[e.fromIndex],n.nodes[e.toIndex],e.weight);null!==e.gateNodeIndex&&n.addGate(n.nodes[e.gateNodeIndex],t)}),n}},{key:"crossOver",value:function(e,n){var o,r;if(e.inputSize!==n.inputSize||e.outputSize!==n.outputSize)throw new Error("Networks don`t have the same input/output size!");var i=new t(e.inputSize,e.outputSize);i.connections.clear(),i.nodes=[];var a,s=null!==(o=e.score)&&void 0!==o?o:0,u=null!==(r=n.score)&&void 0!==r?r:0;if(s===u){var c=Math.max(e.nodes.length,n.nodes.length),h=Math.min(e.nodes.length,n.nodes.length);a=p.randInt(h,c+1)}else a=s>u?e.nodes.length:n.nodes.length;for(var f=e.inputSize,l=e.outputSize,v=0;v<e.nodes.length;v++)e.nodes[v].index=v;for(var m=0;m<n.nodes.length;m++)n.nodes[m].index=m;for(var w=0;w<a;w++){var S=void 0,N=null;if(w<f){N=d.NodeType.INPUT;for(var y=p.randBoolean()?e:n,k=-1,x=-1;k<w;){if(x++>=y.nodes.length)throw RangeError("something is wrong with the size of the input");y.nodes[x].isInputNode()&&k++}S=y.nodes[x]}else if(w<f+l){N=d.NodeType.OUTPUT;for(var z=p.randBoolean()?e:n,E=-1,I=-1;E<w-f;){if(++I>=z.nodes.length)throw RangeError("something is wrong with the size of the output");z.nodes[I].isOutputNode()&&E++}S=z.nodes[I]}else{N=d.NodeType.HIDDEN;var b=void 0;b=w>=e.nodes.length?n:w>=n.nodes.length?e:p.randBoolean()?e:n,S=p.pickRandom(b.nodes)}var O=new g.Node(N);O.bias=S.bias,O.squash=S.squash,i.nodes.push(O)}var R=[],T=[];e.connections.forEach(function(e){R[p.pairing(e.from.index,e.to.index)]=e.toJSON()}),n.connections.forEach(function(e){T[p.pairing(e.from.index,e.to.index)]=e.toJSON()});for(var D=[],q=Object.keys(R),M=Object.keys(T),_=q.length-1;_>=0;_--)void 0!==T[parseInt(q[_])]?(D.push(p.randBoolean()?R[parseInt(q[_])]:T[parseInt(q[_])]),T[parseInt(q[_])]=void 0):s>=u&&D.push(R[parseInt(q[_])]);return u>=s&&M.map(function(e){return parseInt(e)}).map(function(e){return T[e]}).filter(function(e){return void 0!==e}).forEach(function(e){return D.push(e)}),D.forEach(function(e){if(void 0!==e&&e.toIndex<a&&e.fromIndex<a){var t=i.nodes[e.fromIndex],n=i.nodes[e.toIndex],o=i.connect(t,n,e.weight);null!==e.gateNodeIndex&&e.gateNodeIndex<a&&i.addGate(i.nodes[e.gateNodeIndex],o)}}),i}}]),t}();exports.Network=m;
},{"threads":"../../node_modules/threads/dist-esm/index.js","threads/dist":"../../node_modules/threads/dist/index.js","threads/register":"../../node_modules/threads/register.js","timsort":"../../node_modules/timsort/index.js","../enums/NodeType":"../src/enums/NodeType.js","../interfaces/EvolveOptions":"../src/interfaces/EvolveOptions.js","../methods/Loss":"../src/methods/Loss.js","../methods/Mutation":"../src/methods/Mutation.js","../NEAT":"../src/NEAT.js","../utils/Utils":"../src/utils/Utils.js","./Node":"../src/architecture/Node.js"}],"../src/architecture/Architect.js":[function(require,module,exports) {
"use strict";function e(e){return n(e)||t(e)||r()}function r(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function t(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function n(e){if(Array.isArray(e)){for(var r=0,t=new Array(e.length);r<e.length;r++)t[r]=e[r];return t}}function a(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function o(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,r,t){return r&&o(e.prototype,r),t&&o(e,t),e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Architect=void 0;var i=require("./Layers/CoreLayers/InputLayer"),l=require("./Layers/CoreLayers/OutputLayer"),y=require("./Layers/Layer"),c=require("./Network"),u=function(){function r(){a(this,r),this.layers=[]}return s(r,[{key:"addLayer",value:function(e,r){var t=null!=r?r:e.getDefaultIncomingConnectionType();if(!e.connectionTypeisAllowed(t))throw new ReferenceError("Connection type "+t+" is not allowed at layer "+e.constructor.name);return this.layers.push({layer:e,incomingConnectionType:t}),this}},{key:"buildModel",value:function(){var r;if(!(this.layers[0].layer instanceof i.InputLayer))throw new ReferenceError("First layer has to be a InputLayer! Currently is: "+this.layers[0].layer.constructor.name);if(!(this.layers[this.layers.length-1].layer instanceof l.OutputLayer))throw new ReferenceError("Last layer has to be a OutputLayer! Currently is: "+this.layers[this.layers.length-1].layer.constructor.name);var t=this.layers[0].layer.nodes.length,n=this.layers[this.layers.length-1].layer.nodes.length,a=new c.Network(t,n);a.nodes=[],a.connections.clear();for(var o=0;o<this.layers.length-1;o++){var s;y.Layer.connect(this.layers[o].layer,this.layers[o+1].layer,this.layers[o+1].incomingConnectionType).forEach(function(e){return a.connections.add(e)}),(s=a.nodes).push.apply(s,e(this.layers[o].layer.nodes)),this.layers[o].layer.connections.forEach(function(e){return a.connections.add(e)}),this.layers[o].layer.gates.forEach(function(e){return a.gates.add(e)})}return(r=a.nodes).push.apply(r,e(this.layers[this.layers.length-1].layer.nodes)),a}}]),r}();exports.Architect=u;
},{"./Layers/CoreLayers/InputLayer":"../src/architecture/Layers/CoreLayers/InputLayer.js","./Layers/CoreLayers/OutputLayer":"../src/architecture/Layers/CoreLayers/OutputLayer.js","./Layers/Layer":"../src/architecture/Layers/Layer.js","./Network":"../src/architecture/Network.js"}],"../src/architecture/Nodes/ActivationNode.js":[function(require,module,exports) {
"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var o=0;o<e.length;o++){var i=e[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function i(t,e,i){return e&&o(t.prototype,e),i&&o(t,i),t}function n(e,o){return!o||"object"!==t(o)&&"function"!=typeof o?r(e):o}function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ActivationNode=void 0;var c=require("../../utils/Utils"),l=require("./ConstantNode"),f=function(t){function o(){return e(this,o),n(this,a(o).call(this))}return u(o,l.ConstantNode),i(o,[{key:"activate",value:function(){this.old=this.state;var t=Array.from(this.incoming).map(function(t){return t.from.activation*t.weight*t.gain});if(1!==t.length)throw new ReferenceError("Only 1 incoming connections is allowed!");return this.state=t[0],this.activation=this.squash(this.state,!1)*this.mask,this.derivativeState=this.squash(this.state,!0),this.activation}},{key:"propagate",value:function(t,e){var o,i,n,r=this;e.momentum=null!==(o=e.momentum)&&void 0!==o?o:0,e.rate=null!==(i=e.rate)&&void 0!==i?i:.3,e.update=null===(n=e.update)||void 0===n||n;var a=Array.from(this.outgoing).map(function(t){return t.to.errorResponsibility*t.weight*t.gain});this.errorResponsibility=this.errorProjected=c.sum(a)*this.derivativeState,this.incoming.forEach(function(t){var o,i,n=r.errorProjected*t.eligibility;t.xTrace.forEach(function(t,e){n+=e.errorResponsibility*t}),t.deltaWeightsTotal+=(null!==(o=e.rate)&&void 0!==o?o:.3)*n*r.mask,e.update&&(t.deltaWeightsTotal+=(null!==(i=e.momentum)&&void 0!==i?i:0)*t.deltaWeightsPrevious,t.weight+=t.deltaWeightsTotal,t.deltaWeightsPrevious=t.deltaWeightsTotal,t.deltaWeightsTotal=0)})}}]),o}();exports.ActivationNode=f;
},{"../../utils/Utils":"../src/utils/Utils.js","./ConstantNode":"../src/architecture/Nodes/ConstantNode.js"}],"../src/architecture/Layers/CoreLayers/ActivationLayer.js":[function(require,module,exports) {
"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t){return r(t)||o(t)||n()}function n(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function o(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function r(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function c(t,e,n){return e&&u(t.prototype,e),n&&u(t,n),t}function a(e,n){return!n||"object"!==t(n)&&"function"!=typeof n?f(e):n}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function y(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ActivationLayer=void 0;var s=require("activations/build/src"),b=require("../../../enums/ConnectionType"),d=require("../../Nodes/ActivationNode"),v=require("../Layer"),O=function(t){function n(t){var o,r,u,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,n),r=a(this,p(n).call(this,t));for(var f=null!==(u=c.activation)&&void 0!==u?u:s.Logistic,y=0;y<t;y++)r.inputNodes.add((new d.ActivationNode).setActivationType(f));return r.outputNodes=r.inputNodes,(o=r.nodes).push.apply(o,e(Array.from(r.inputNodes))),r}return y(n,v.Layer),c(n,[{key:"connectionTypeisAllowed",value:function(t){return t===b.ConnectionType.ONE_TO_ONE}},{key:"getDefaultIncomingConnectionType",value:function(){return b.ConnectionType.ONE_TO_ONE}}]),n}();exports.ActivationLayer=O;
},{"activations/build/src":"../../node_modules/activations/build/src/index.js","../../../enums/ConnectionType":"../src/enums/ConnectionType.js","../../Nodes/ActivationNode":"../src/architecture/Nodes/ActivationNode.js","../Layer":"../src/architecture/Layers/Layer.js"}],"../src/architecture/Layers/CoreLayers/DenseLayer.js":[function(require,module,exports) {
"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e){return o(e)||r(e)||n()}function n(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function r(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function o(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}function a(t,n){return!n||"object"!==e(n)&&"function"!=typeof n?f(t):n}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.DenseLayer=void 0;var s=require("activations/build/src"),b=require("../../../enums/ConnectionType"),d=require("../../../enums/NodeType"),v=require("../../Node"),m=require("../Layer"),h=function(e){function n(e){var r,o,u,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,n),o=a(this,p(n).call(this,e));for(var f=null!==(u=c.activationType)&&void 0!==u?u:s.Logistic,y=0;y<e;y++)o.inputNodes.add(new v.Node(d.NodeType.HIDDEN).setActivationType(f));return o.outputNodes=o.inputNodes,(r=o.nodes).push.apply(r,t(Array.from(o.inputNodes))),o}return y(n,m.Layer),c(n,[{key:"connectionTypeisAllowed",value:function(){return!0}},{key:"getDefaultIncomingConnectionType",value:function(){return b.ConnectionType.ALL_TO_ALL}}]),n}();exports.DenseLayer=h;
},{"activations/build/src":"../../node_modules/activations/build/src/index.js","../../../enums/ConnectionType":"../src/enums/ConnectionType.js","../../../enums/NodeType":"../src/enums/NodeType.js","../../Node":"../src/architecture/Node.js","../Layer":"../src/architecture/Layers/Layer.js"}],"../src/architecture/Nodes/DropoutNode.js":[function(require,module,exports) {
"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var o=0;o<e.length;o++){var r=e[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function r(t,e,r){return e&&o(t.prototype,e),r&&o(t,r),t}function i(e,o){return!o||"object"!==t(o)&&"function"!=typeof o?n(e):o}function n(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a(t,e,o){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,o){var r=u(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(o):i.value}})(t,e,o||t)}function u(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=s(t)););return t}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.DropoutNode=void 0;var f=require("../../utils/Utils"),p=require("./ConstantNode"),h=function(t){function o(t){var r;return e(this,o),(r=i(this,s(o).call(this))).probability=t,r.droppedOut=!1,r}return c(o,p.ConstantNode),r(o,[{key:"activate",value:function(){var t=this;if(1!==this.incoming.size)throw new RangeError("Dropout node should have exactly one incoming connection!");var e=Array.from(this.incoming)[0];return f.randDouble(0,1)<this.probability?(this.droppedOut=!0,this.state=0):(this.droppedOut=!1,this.state=e.from.activation*e.weight*e.gain,this.state*=1/(1-this.probability)),this.activation=this.squash(this.state,!1)*this.mask,this.gated.forEach(function(e){return e.gain=t.activation}),this.activation}},{key:"propagate",value:function(t){var e,o,r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i.momentum=null!==(e=i.momentum)&&void 0!==e?e:0,i.rate=null!==(o=i.rate)&&void 0!==o?o:.3,i.update=null===(r=i.update)||void 0===r||r;var n=Array.from(this.outgoing).map(function(t){return t.to.errorResponsibility*t.weight*t.gain});if(this.errorResponsibility=this.errorProjected=f.sum(n)/(1-this.probability),1!==this.incoming.size)throw new RangeError("Dropout node should have exactly one incoming connection!");var a=Array.from(this.incoming)[0];if(!this.droppedOut){var u=this.errorProjected*a.eligibility;a.xTrace.forEach(function(t,e){u+=e.errorResponsibility*t}),i.update&&(a.deltaWeightsTotal+=i.rate*u*this.mask+i.momentum*a.deltaWeightsPrevious,a.weight+=a.deltaWeightsTotal,a.deltaWeightsPrevious=a.deltaWeightsTotal,a.deltaWeightsTotal=0)}}},{key:"fromJSON",value:function(t){return a(s(o.prototype),"fromJSON",this).call(this,t),this.probability=t.probability,this}},{key:"toJSON",value:function(){return Object.assign(a(s(o.prototype),"toJSON",this).call(this),{probability:this.probability})}}]),o}();exports.DropoutNode=h;
},{"../../utils/Utils":"../src/utils/Utils.js","./ConstantNode":"../src/architecture/Nodes/ConstantNode.js"}],"../src/architecture/Layers/CoreLayers/DropoutLayer.js":[function(require,module,exports) {
"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t){return r(t)||o(t)||n()}function n(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function o(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function r(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function c(t,e,n){return e&&u(t.prototype,e),n&&u(t,n),t}function a(e,n){return!n||"object"!==t(n)&&"function"!=typeof n?f(e):n}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e)}function y(t,e){return(y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.DropoutLayer=void 0;var s=require("activations/build/src"),b=require("../../../enums/ConnectionType"),d=require("../../Nodes/DropoutNode"),v=require("../Layer"),O=function(t){function n(t){var o,r,u,c,f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,n),r=a(this,p(n).call(this,t));for(var l=null!==(u=f.activation)&&void 0!==u?u:s.Identitiy,y=null!==(c=f.probability)&&void 0!==c?c:.1,b=0;b<t;b++)r.inputNodes.add(new d.DropoutNode(y).setActivationType(l));return r.outputNodes=r.inputNodes,(o=r.nodes).push.apply(o,e(Array.from(r.inputNodes))),r}return l(n,v.Layer),c(n,[{key:"getDefaultIncomingConnectionType",value:function(){return b.ConnectionType.ONE_TO_ONE}},{key:"connectionTypeisAllowed",value:function(t){return t===b.ConnectionType.ONE_TO_ONE}}]),n}();exports.DropoutLayer=O;
},{"activations/build/src":"../../node_modules/activations/build/src/index.js","../../../enums/ConnectionType":"../src/enums/ConnectionType.js","../../Nodes/DropoutNode":"../src/architecture/Nodes/DropoutNode.js","../Layer":"../src/architecture/Layers/Layer.js"}],"../src/architecture/Nodes/PoolNode.js":[function(require,module,exports) {
"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var o=0;o<e.length;o++){var i=e[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function i(t,e,i){return e&&o(t.prototype,e),i&&o(t,i),t}function n(e,o){return!o||"object"!==t(o)&&"function"!=typeof o?r(e):o}function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a(t,e,o){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,o){var i=l(t,e);if(i){var n=Object.getOwnPropertyDescriptor(i,e);return n.get?n.get.call(o):n.value}})(t,e,o||t)}function l(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=u(t)););return t}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.PoolNode=void 0;var p=require("../../enums/NodeType"),f=require("../../utils/Utils"),h=require("./ConstantNode"),y=function(t){function o(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p.PoolNodeType.MAX_POOLING;return e(this,o),(t=n(this,u(o).call(this))).poolingType=i,t.receivingNode=null,t}return s(o,h.ConstantNode),i(o,[{key:"fromJSON",value:function(t){return a(u(o.prototype),"fromJSON",this).call(this,t),this.poolingType=t.poolType,this}},{key:"activate",value:function(){var t=this,e=Array.from(this.incoming),o=e.map(function(t){return t.from.activation*t.weight*t.gain});if(this.poolingType===p.PoolNodeType.MAX_POOLING){var i=f.maxValueIndex(o);this.receivingNode=e[i].from,this.state=o[i]}else if(this.poolingType===p.PoolNodeType.AVG_POOLING)this.state=f.avg(o);else{if(this.poolingType!==p.PoolNodeType.MIN_POOLING)throw new ReferenceError("No valid pooling type! Type: "+this.poolingType);var n=f.minValueIndex(o);this.receivingNode=e[n].from,this.state=o[n]}return this.activation=this.squash(this.state,!1)*this.mask,this.poolingType===p.PoolNodeType.AVG_POOLING&&(this.derivativeState=this.squash(this.state,!0)),this.gated.forEach(function(e){return e.gain=t.activation}),this.activation}},{key:"propagate",value:function(t){var e,o,i,n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r.momentum=null!==(e=r.momentum)&&void 0!==e?e:0,r.rate=null!==(o=r.rate)&&void 0!==o?o:.3,r.update=null===(i=r.update)||void 0===i||i;var a=Array.from(this.outgoing).map(function(t){return t.to.errorResponsibility*t.weight*t.gain});this.errorResponsibility=this.errorProjected=f.sum(a)*this.derivativeState,this.poolingType===p.PoolNodeType.AVG_POOLING?this.incoming.forEach(function(t){var e,o,i=n.errorProjected*t.eligibility;t.xTrace.forEach(function(t,e){i+=e.errorResponsibility*t}),t.deltaWeightsTotal+=(null!==(e=r.rate)&&void 0!==e?e:.3)*i*n.mask,r.update&&(t.deltaWeightsTotal+=(null!==(o=r.momentum)&&void 0!==o?o:0)*t.deltaWeightsPrevious,t.weight+=t.deltaWeightsTotal,t.deltaWeightsPrevious=t.deltaWeightsTotal,t.deltaWeightsTotal=0)}):this.incoming.forEach(function(t){t.weight=n.receivingNode===t.from?1:0,t.gain=n.receivingNode===t.from?1:0})}},{key:"toJSON",value:function(){return Object.assign(a(u(o.prototype),"toJSON",this).call(this),{poolType:this.poolingType})}}]),o}();exports.PoolNode=y;
},{"../../enums/NodeType":"../src/enums/NodeType.js","../../utils/Utils":"../src/utils/Utils.js","./ConstantNode":"../src/architecture/Nodes/ConstantNode.js"}],"../src/architecture/Layers/PoolingLayers/PoolingLayer.js":[function(require,module,exports) {
"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function o(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}function r(t,n){return!n||"object"!==e(n)&&"function"!=typeof n?u(t):n}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function i(e){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.PoolingLayer=void 0;var l=require("../../../enums/ConnectionType"),y=require("../Layer"),p=function(e){function n(e){return t(this,n),r(this,i(n).call(this,e))}return c(n,y.Layer),o(n,[{key:"getDefaultIncomingConnectionType",value:function(){return l.ConnectionType.POOLING}},{key:"connectionTypeisAllowed",value:function(){return!0}}]),n}();exports.PoolingLayer=p;
},{"../../../enums/ConnectionType":"../src/enums/ConnectionType.js","../Layer":"../src/architecture/Layers/Layer.js"}],"../src/architecture/Layers/PoolingLayers/AvgPooling1DLayer.js":[function(require,module,exports) {
"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t){return n(t)||r(t)||o()}function o(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function r(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function n(t){if(Array.isArray(t)){for(var e=0,o=new Array(t.length);e<t.length;e++)o[e]=t[e];return o}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(e,o){return!o||"object"!==t(o)&&"function"!=typeof o?c(e):o}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.AvgPooling1DLayer=void 0;var p=require("activations/build/src"),s=require("../../../enums/NodeType"),y=require("../../Nodes/PoolNode"),b=require("./PoolingLayer"),d=function(t){function o(t){var r,n,c,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,o),n=u(this,f(o).call(this,t));for(var l=null!==(c=a.activation)&&void 0!==c?c:p.Identitiy,b=0;b<t;b++)n.inputNodes.add(new y.PoolNode(s.PoolNodeType.AVG_POOLING).setActivationType(l));return n.outputNodes=n.inputNodes,(r=n.nodes).push.apply(r,e(Array.from(n.inputNodes))),n}return a(o,b.PoolingLayer),o}();exports.AvgPooling1DLayer=d;
},{"activations/build/src":"../../node_modules/activations/build/src/index.js","../../../enums/NodeType":"../src/enums/NodeType.js","../../Nodes/PoolNode":"../src/architecture/Nodes/PoolNode.js","./PoolingLayer":"../src/architecture/Layers/PoolingLayers/PoolingLayer.js"}],"../src/architecture/Layers/PoolingLayers/GlobalAvgPooling1DLayer.js":[function(require,module,exports) {
"use strict";function t(o){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(o)}function o(t,o){if(!(t instanceof o))throw new TypeError("Cannot call a class as a function")}function e(o,e){return!e||"object"!==t(e)&&"function"!=typeof e?n(o):e}function n(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function r(t){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function i(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(o&&o.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),o&&u(t,o)}function u(t,o){return(u=Object.setPrototypeOf||function(t,o){return t.__proto__=o,t})(t,o)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.GlobalAvgPooling1DLayer=void 0;var c=require("./AvgPooling1DLayer"),f=function(t){function n(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o(this,n),e(this,r(n).call(this,1,i))}return i(n,c.AvgPooling1DLayer),n}();exports.GlobalAvgPooling1DLayer=f;
},{"./AvgPooling1DLayer":"../src/architecture/Layers/PoolingLayers/AvgPooling1DLayer.js"}],"../src/architecture/Layers/PoolingLayers/MaxPooling1DLayer.js":[function(require,module,exports) {
"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t){return n(t)||r(t)||o()}function o(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function r(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function n(t){if(Array.isArray(t)){for(var e=0,o=new Array(t.length);e<t.length;e++)o[e]=t[e];return o}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(e,o){return!o||"object"!==t(o)&&"function"!=typeof o?c(e):o}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.MaxPooling1DLayer=void 0;var p=require("activations/build/src"),s=require("../../../enums/NodeType"),y=require("../../Nodes/PoolNode"),b=require("./PoolingLayer"),d=function(t){function o(t){var r,n,c,f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,o),n=u(this,a(o).call(this,t));for(var l=null!==(c=f.activation)&&void 0!==c?c:p.Identitiy,b=0;b<t;b++)n.inputNodes.add(new y.PoolNode(s.PoolNodeType.MAX_POOLING).setActivationType(l));return n.outputNodes=n.inputNodes,(r=n.nodes).push.apply(r,e(Array.from(n.inputNodes))),n}return f(o,b.PoolingLayer),o}();exports.MaxPooling1DLayer=d;
},{"activations/build/src":"../../node_modules/activations/build/src/index.js","../../../enums/NodeType":"../src/enums/NodeType.js","../../Nodes/PoolNode":"../src/architecture/Nodes/PoolNode.js","./PoolingLayer":"../src/architecture/Layers/PoolingLayers/PoolingLayer.js"}],"../src/architecture/Layers/PoolingLayers/GlobalMaxPooling1DLayer.js":[function(require,module,exports) {
"use strict";function t(o){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(o)}function o(t,o){if(!(t instanceof o))throw new TypeError("Cannot call a class as a function")}function e(o,e){return!e||"object"!==t(e)&&"function"!=typeof e?n(o):e}function n(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function r(t){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function i(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(o&&o.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),o&&u(t,o)}function u(t,o){return(u=Object.setPrototypeOf||function(t,o){return t.__proto__=o,t})(t,o)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.GlobalMaxPooling1DLayer=void 0;var c=require("./MaxPooling1DLayer"),f=function(t){function n(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o(this,n),e(this,r(n).call(this,1,i))}return i(n,c.MaxPooling1DLayer),n}();exports.GlobalMaxPooling1DLayer=f;
},{"./MaxPooling1DLayer":"../src/architecture/Layers/PoolingLayers/MaxPooling1DLayer.js"}],"../src/architecture/Layers/PoolingLayers/MinPooling1DLayer.js":[function(require,module,exports) {
"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t){return n(t)||r(t)||o()}function o(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function r(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function n(t){if(Array.isArray(t)){for(var e=0,o=new Array(t.length);e<t.length;e++)o[e]=t[e];return o}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(e,o){return!o||"object"!==t(o)&&"function"!=typeof o?c(e):o}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.MinPooling1DLayer=void 0;var p=require("activations/build/src"),s=require("../../../enums/NodeType"),y=require("../../Nodes/PoolNode"),b=require("./PoolingLayer"),d=function(t){function o(t){var r,n,c,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,o),n=u(this,f(o).call(this,t));for(var l=null!==(c=a.activation)&&void 0!==c?c:p.Identitiy,b=0;b<t;b++)n.inputNodes.add(new y.PoolNode(s.PoolNodeType.MIN_POOLING).setActivationType(l));return n.outputNodes=n.inputNodes,(r=n.nodes).push.apply(r,e(Array.from(n.inputNodes))),n}return a(o,b.PoolingLayer),o}();exports.MinPooling1DLayer=d;
},{"activations/build/src":"../../node_modules/activations/build/src/index.js","../../../enums/NodeType":"../src/enums/NodeType.js","../../Nodes/PoolNode":"../src/architecture/Nodes/PoolNode.js","./PoolingLayer":"../src/architecture/Layers/PoolingLayers/PoolingLayer.js"}],"../src/architecture/Layers/PoolingLayers/GlobalMinPooling1DLayer.js":[function(require,module,exports) {
"use strict";function t(o){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(o)}function o(t,o){if(!(t instanceof o))throw new TypeError("Cannot call a class as a function")}function e(o,e){return!e||"object"!==t(e)&&"function"!=typeof e?n(o):e}function n(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function r(t){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function i(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(o&&o.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),o&&u(t,o)}function u(t,o){return(u=Object.setPrototypeOf||function(t,o){return t.__proto__=o,t})(t,o)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.GlobalMinPooling1DLayer=void 0;var c=require("./MinPooling1DLayer"),f=function(t){function n(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o(this,n),e(this,r(n).call(this,1,i))}return i(n,c.MinPooling1DLayer),n}();exports.GlobalMinPooling1DLayer=f;
},{"./MinPooling1DLayer":"../src/architecture/Layers/PoolingLayers/MinPooling1DLayer.js"}],"../src/architecture/Layers/RecurrentLayers/GRULayer.js":[function(require,module,exports) {
"use strict";function e(n){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function n(e){return r(e)||o(e)||t()}function t(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function o(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function r(e){if(Array.isArray(e)){for(var n=0,t=new Array(e.length);n<e.length;n++)t[n]=e[n];return t}}function p(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function i(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function c(e,n,t){return n&&i(e.prototype,n),t&&i(e,t),e}function u(n,t){return!t||"object"!==e(t)&&"function"!=typeof t?a(n):t}function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&l(e,n)}function l(e,n){return(l=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.GRULayer=void 0;var f=require("activations/build/src"),L=require("../../../enums/ConnectionType"),d=require("../../../enums/GatingType"),T=require("../../../enums/NodeType"),h=require("../../Node"),N=require("../Layer"),_=function(e){function t(e){var o,r,i,c,a,y,l,_,O,b,A,g,v,m,w,E,D,C,j,I,P,H=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};p(this,t),P=u(this,s(t).call(this,e));for(var S=[],U=[],q=[],G=[],x=[],B=0;B<e;B++)P.inputNodes.add(new h.Node(T.NodeType.HIDDEN)),S.push(new h.Node(T.NodeType.HIDDEN).setBias(1)),U.push(new h.Node(T.NodeType.HIDDEN).setBias(0).setActivationType(f.Logistic)),q.push(new h.Node(T.NodeType.HIDDEN).setBias(0)),G.push(new h.Node(T.NodeType.HIDDEN).setActivationType(f.TANH)),x.push(new h.Node(T.NodeType.HIDDEN).setBias(0).setActivationType(f.Logistic)),P.outputNodes.add(new h.Node(T.NodeType.HIDDEN));(o=P.connections).push.apply(o,n(N.Layer.connect(P.inputNodes,S,L.ConnectionType.ALL_TO_ALL))),(r=P.connections).push.apply(r,n(N.Layer.connect(P.inputNodes,q,L.ConnectionType.ALL_TO_ALL))),(i=P.connections).push.apply(i,n(N.Layer.connect(P.inputNodes,G,L.ConnectionType.ALL_TO_ALL))),(c=P.connections).push.apply(c,n(N.Layer.connect(x,S,L.ConnectionType.ALL_TO_ALL))),(a=P.connections).push.apply(a,n(N.Layer.connect(S,U,L.ConnectionType.ONE_TO_ONE,1))),(y=P.connections).push.apply(y,n(N.Layer.connect(x,q,L.ConnectionType.ALL_TO_ALL)));var k=N.Layer.connect(x,G,L.ConnectionType.ALL_TO_ALL);(l=P.connections).push.apply(l,n(k)),(_=P.gates).push.apply(_,n(N.Layer.gate(q,k,d.GatingType.OUTPUT)));var R=N.Layer.connect(x,P.outputNodes,L.ConnectionType.ALL_TO_ALL),M=N.Layer.connect(G,P.outputNodes,L.ConnectionType.ALL_TO_ALL);return(O=P.connections).push.apply(O,n(R)),(b=P.connections).push.apply(b,n(M)),(A=P.gates).push.apply(A,n(N.Layer.gate(S,R,d.GatingType.OUTPUT))),(g=P.gates).push.apply(g,n(N.Layer.gate(U,M,d.GatingType.OUTPUT))),(v=P.connections).push.apply(v,n(N.Layer.connect(P.outputNodes,x,L.ConnectionType.ONE_TO_ONE,1))),(m=P.nodes).push.apply(m,n(Array.from(P.inputNodes))),(w=P.nodes).push.apply(w,S),(E=P.nodes).push.apply(E,U),(D=P.nodes).push.apply(D,q),(C=P.nodes).push.apply(C,G),(j=P.nodes).push.apply(j,n(Array.from(P.outputNodes))),(I=P.nodes).push.apply(I,x),P.outputNodes.forEach(function(e){var n;return e.squash=null!==(n=H.activation)&&void 0!==n?n:f.Logistic}),P}return y(t,N.Layer),c(t,[{key:"connectionTypeisAllowed",value:function(){return!0}},{key:"getDefaultIncomingConnectionType",value:function(){return L.ConnectionType.ALL_TO_ALL}}]),t}();exports.GRULayer=_;
},{"activations/build/src":"../../node_modules/activations/build/src/index.js","../../../enums/ConnectionType":"../src/enums/ConnectionType.js","../../../enums/GatingType":"../src/enums/GatingType.js","../../../enums/NodeType":"../src/enums/NodeType.js","../../Node":"../src/architecture/Node.js","../Layer":"../src/architecture/Layers/Layer.js"}],"../src/architecture/Layers/RecurrentLayers/HopfieldLayer.js":[function(require,module,exports) {
"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e){return r(e)||o(e)||n()}function n(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function o(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function r(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function c(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}function p(t,n){return!n||"object"!==e(n)&&"function"!=typeof n?a(t):n}function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.HopfieldLayer=void 0;var l=require("activations/build/src"),d=require("../../../enums/ConnectionType"),b=require("../../../enums/NodeType"),m=require("../../Node"),h=require("../Layer"),L=function(e){function n(e){var o,r,u,c,a;i(this,n),a=p(this,y(n).call(this,e));for(var f=0;f<e;f++)a.inputNodes.add(new m.Node(b.NodeType.HIDDEN)),a.outputNodes.add(new m.Node(b.NodeType.HIDDEN).setActivationType(l.BinaryStep));return(o=a.connections).push.apply(o,t(h.Layer.connect(a.inputNodes,a.outputNodes,d.ConnectionType.ALL_TO_ALL))),(r=a.connections).push.apply(r,t(h.Layer.connect(a.outputNodes,a.inputNodes,d.ConnectionType.ALL_TO_ALL))),(u=a.nodes).push.apply(u,t(Array.from(a.inputNodes))),(c=a.nodes).push.apply(c,t(Array.from(a.outputNodes))),a}return f(n,h.Layer),c(n,[{key:"connectionTypeisAllowed",value:function(){return!0}},{key:"getDefaultIncomingConnectionType",value:function(){return d.ConnectionType.ALL_TO_ALL}}]),n}();exports.HopfieldLayer=L;
},{"activations/build/src":"../../node_modules/activations/build/src/index.js","../../../enums/ConnectionType":"../src/enums/ConnectionType.js","../../../enums/NodeType":"../src/enums/NodeType.js","../../Node":"../src/architecture/Node.js","../Layer":"../src/architecture/Layers/Layer.js"}],"../src/architecture/Layers/RecurrentLayers/LSTMLayer.js":[function(require,module,exports) {
"use strict";function e(n){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(n)}function n(e){return r(e)||o(e)||t()}function t(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function o(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function r(e){if(Array.isArray(e)){for(var n=0,t=new Array(e.length);n<e.length;n++)t[n]=e[n];return t}}function p(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function i(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function u(e,n,t){return n&&i(e.prototype,n),t&&i(e,t),e}function c(n,t){return!t||"object"!==e(t)&&"function"!=typeof t?a(n):t}function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&l(e,n)}function l(e,n){return(l=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.LSTMLayer=void 0;var f=require("activations/build/src"),L=require("../../../enums/ConnectionType"),d=require("../../../enums/GatingType"),T=require("../../../enums/NodeType"),h=require("../../Node"),N=require("../Layer"),b=function(e){function t(e){var o,r,i,u,a,y,l,b,_,A,O,g,v,m,w,E,C,D,j,S=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};p(this,t),j=c(this,s(t).call(this,e));for(var I=[],P=[],q=[],H=[],x=0;x<e;x++)j.inputNodes.add(new h.Node(T.NodeType.HIDDEN)),I.push(new h.Node(T.NodeType.HIDDEN).setBias(1)),P.push(new h.Node(T.NodeType.HIDDEN).setBias(1).setActivationType(f.Logistic)),q.push(new h.Node(T.NodeType.HIDDEN)),H.push(new h.Node(T.NodeType.HIDDEN).setBias(1)),j.outputNodes.add(new h.Node(T.NodeType.HIDDEN));(o=j.connections).push.apply(o,n(N.Layer.connect(q,I,L.ConnectionType.ALL_TO_ALL))),(r=j.connections).push.apply(r,n(N.Layer.connect(q,P,L.ConnectionType.ALL_TO_ALL))),(i=j.connections).push.apply(i,n(N.Layer.connect(q,H,L.ConnectionType.ALL_TO_ALL)));var G=N.Layer.connect(q,q,L.ConnectionType.ONE_TO_ONE),k=N.Layer.connect(q,j.outputNodes,L.ConnectionType.ALL_TO_ALL);(u=j.connections).push.apply(u,n(G)),(a=j.connections).push.apply(a,n(k)),(y=j.connections).push.apply(y,n(N.Layer.connect(j.inputNodes,q,L.ConnectionType.ALL_TO_ALL))),(l=j.connections).push.apply(l,n(N.Layer.connect(j.inputNodes,H,L.ConnectionType.ALL_TO_ALL))),(b=j.connections).push.apply(b,n(N.Layer.connect(j.inputNodes,P,L.ConnectionType.ALL_TO_ALL)));var B=N.Layer.connect(j.inputNodes,I,L.ConnectionType.ALL_TO_ALL);return(_=j.connections).push.apply(_,n(B)),(A=j.gates).push.apply(A,n(N.Layer.gate(P,G,d.GatingType.SELF))),(O=j.gates).push.apply(O,n(N.Layer.gate(H,k,d.GatingType.OUTPUT))),(g=j.gates).push.apply(g,n(N.Layer.gate(I,B,d.GatingType.INPUT))),(v=j.nodes).push.apply(v,n(Array.from(j.inputNodes))),(m=j.nodes).push.apply(m,I),(w=j.nodes).push.apply(w,P),(E=j.nodes).push.apply(E,q),(C=j.nodes).push.apply(C,H),(D=j.nodes).push.apply(D,n(Array.from(j.outputNodes))),j.outputNodes.forEach(function(e){var n;return e.squash=null!==(n=S.activation)&&void 0!==n?n:f.TANH}),j}return y(t,N.Layer),u(t,[{key:"connectionTypeisAllowed",value:function(){return!0}},{key:"getDefaultIncomingConnectionType",value:function(){return L.ConnectionType.ALL_TO_ALL}}]),t}();exports.LSTMLayer=b;
},{"activations/build/src":"../../node_modules/activations/build/src/index.js","../../../enums/ConnectionType":"../src/enums/ConnectionType.js","../../../enums/GatingType":"../src/enums/GatingType.js","../../../enums/NodeType":"../src/enums/NodeType.js","../../Node":"../src/architecture/Node.js","../Layer":"../src/architecture/Layers/Layer.js"}],"../src/architecture/Layers/RecurrentLayers/MemoryLayer.js":[function(require,module,exports) {
"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e){return o(e)||r(e)||n()}function n(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function r(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function o(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}function a(t,n){return!n||"object"!==e(n)&&"function"!=typeof n?f(t):n}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.MemoryLayer=void 0;var l=require("activations/build/src"),d=require("../../../enums/ConnectionType"),b=require("../../../enums/NodeType"),h=require("../../Node"),v=require("../Layer"),m=function(e){function n(e){var r,o,u,c,f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,n),u=a(this,p(n).call(this,e));for(var y=0;y<e;y++)u.inputNodes.add(new h.Node(b.NodeType.HIDDEN));for(var s=Array.from(u.inputNodes),m=[],O=0;O<(null!==(c=f.memorySize)&&void 0!==c?c:1);O++){for(var N,w=[],_=0;_<e;_++){var g=new h.Node(b.NodeType.HIDDEN);g.squash=l.Identitiy,g.bias=0,w.push(g)}(N=u.connections).push.apply(N,t(v.Layer.connect(s,w,d.ConnectionType.ONE_TO_ONE))),m.push.apply(m,w),s=w}return(r=u.nodes).push.apply(r,t(Array.from(u.inputNodes))),(o=u.nodes).push.apply(o,t(m.reverse())),s.forEach(function(e){return u.outputNodes.add(e)}),u.outputNodes.forEach(function(e){var t;return e.squash=null!==(t=f.activation)&&void 0!==t?t:l.Logistic}),u}return y(n,v.Layer),c(n,[{key:"connectionTypeisAllowed",value:function(){return!0}},{key:"getDefaultIncomingConnectionType",value:function(){return d.ConnectionType.ALL_TO_ALL}}]),n}();exports.MemoryLayer=m;
},{"activations/build/src":"../../node_modules/activations/build/src/index.js","../../../enums/ConnectionType":"../src/enums/ConnectionType.js","../../../enums/NodeType":"../src/enums/NodeType.js","../../Node":"../src/architecture/Node.js","../Layer":"../src/architecture/Layers/Layer.js"}],"../src/architecture/Layers/RecurrentLayers/RNNLayer.js":[function(require,module,exports) {
"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e){return r(e)||o(e)||n()}function n(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function o(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function r(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function c(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}function a(t,n){return!n||"object"!==e(n)&&"function"!=typeof n?f(t):n}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.RNNLayer=void 0;var s=require("activations/build/src"),b=require("../../../enums/ConnectionType"),d=require("../../../enums/NodeType"),v=require("../../Node"),m=require("../Layer"),h=function(e){function n(e){var o,r,u,c,f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,n),u=a(this,p(n).call(this,e));for(var y=0;y<e;y++)u.inputNodes.add(new v.Node(d.NodeType.HIDDEN).setActivationType(null!==(c=f.activation)&&void 0!==c?c:s.Logistic));return u.outputNodes=u.inputNodes,(o=u.nodes).push.apply(o,t(Array.from(u.inputNodes))),(r=u.connections).push.apply(r,t(m.Layer.connect(u.nodes,u.nodes,b.ConnectionType.ONE_TO_ONE))),u}return y(n,m.Layer),c(n,[{key:"connectionTypeisAllowed",value:function(){return!0}},{key:"getDefaultIncomingConnectionType",value:function(){return b.ConnectionType.ALL_TO_ALL}}]),n}();exports.RNNLayer=h;
},{"activations/build/src":"../../node_modules/activations/build/src/index.js","../../../enums/ConnectionType":"../src/enums/ConnectionType.js","../../../enums/NodeType":"../src/enums/NodeType.js","../../Node":"../src/architecture/Node.js","../Layer":"../src/architecture/Layers/Layer.js"}],"../src/methods/Rate.js":[function(require,module,exports) {
"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function n(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}function r(e,n){return!n||"object"!==t(n)&&"function"!=typeof n?o(e):n}function o(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.InverseRate=exports.ExponentialRate=exports.StepRate=exports.FixedRate=exports.Rate=void 0;var s=function t(e){c(this,t),this.baseRate=e};exports.Rate=s;var f=function(t){function e(){return c(this,e),r(this,i(e).apply(this,arguments))}return a(e,s),n(e,[{key:"calc",value:function(){return this.baseRate}}]),e}();exports.FixedRate=f;var p=function(t){function e(t){var n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.9,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;return c(this,e),(n=r(this,i(e).call(this,t))).gamma=o,n.stepSize=a,n}return a(e,s),n(e,[{key:"calc",value:function(t){return this.baseRate*Math.pow(this.gamma,Math.floor(t/this.stepSize))}}]),e}();exports.StepRate=p;var l=function(t){function e(t){var n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.999;return c(this,e),(n=r(this,i(e).call(this,t))).gamma=o,n}return a(e,s),n(e,[{key:"calc",value:function(t){return this.baseRate*Math.pow(this.gamma,t)}}]),e}();exports.ExponentialRate=l;var h=function(t){function e(t){var n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.001,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;return c(this,e),(n=r(this,i(e).call(this,t))).gamma=o,n.power=a,n}return a(e,s),n(e,[{key:"calc",value:function(t){return this.baseRate*Math.pow(1+this.gamma*t,-this.power)}}]),e}();exports.InverseRate=h;
},{}],"../src/interfaces/TrainOptions.js":[function(require,module,exports) {
"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function i(t,i,s){return i&&e(t.prototype,i),s&&e(t,s),t}Object.defineProperty(exports,"__esModule",{value:!0}),exports.TrainOptions=void 0;var s=require("../methods/Loss"),n=require("../methods/Rate"),r=function(){function e(i){t(this,e),this._dataset=i,this._iterations=-1,this._error=-1,this._loss=s.MSELoss,this._dropout=0,this._momentum=0,this._batchSize=this.dataset.length,this._rate=new n.FixedRate(.3),this._log=-1,this._crossValidateTestSize=-1,this._shuffle=!1,this._clear=!1}return i(e,[{key:"dataset",get:function(){return this._dataset},set:function(t){this._dataset=t}},{key:"shuffle",get:function(){return this._shuffle},set:function(t){this._shuffle=t}},{key:"clear",get:function(){return this._clear},set:function(t){this._clear=t}},{key:"schedule",get:function(){return this._schedule},set:function(t){this._schedule=t}},{key:"crossValidateTestSize",get:function(){return this._crossValidateTestSize},set:function(t){this._crossValidateTestSize=t}},{key:"rate",get:function(){return this._rate},set:function(t){this._rate=t}},{key:"loss",get:function(){return this._loss},set:function(t){this._loss=t}},{key:"iterations",get:function(){return this._iterations},set:function(t){this._iterations=t}},{key:"error",get:function(){return this._error},set:function(t){this._error=t}},{key:"momentum",get:function(){return this._momentum},set:function(t){this._momentum=t}},{key:"dropout",get:function(){return this._dropout},set:function(t){this._dropout=t}},{key:"log",get:function(){return this._log},set:function(t){this._log=t}},{key:"batchSize",get:function(){return this._batchSize},set:function(t){this._batchSize=t}}]),e}();exports.TrainOptions=r;
},{"../methods/Loss":"../src/methods/Loss.js","../methods/Rate":"../src/methods/Rate.js"}],"index.js":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.generateGaussian=exports.avg=exports.sum=exports.min=exports.minValueIndex=exports.maxValueIndex=exports.max=exports.shuffle=exports.removeFromArray=exports.randBoolean=exports.randDouble=exports.randInt=exports.pickRandom=exports.TournamentSelection=exports.PowerSelection=exports.FitnessProportionateSelection=exports.Selection=exports.InverseRate=exports.ExponentialRate=exports.StepRate=exports.FixedRate=exports.Rate=exports.SwapNodesMutation=exports.SubBackConnectionMutation=exports.AddBackConnectionMutation=exports.SubSelfConnectionMutation=exports.AddSelfConnectionMutation=exports.SubGateMutation=exports.AddGateMutation=exports.ModActivationMutation=exports.ModBiasMutation=exports.ModWeightMutation=exports.SubConnectionMutation=exports.AddConnectionMutation=exports.SubNodeMutation=exports.AddNodeMutation=exports.Mutation=exports.ONLY_STRUCTURE=exports.NO_STRUCTURE_MUTATIONS=exports.FEEDFORWARD_MUTATIONS=exports.ALL_MUTATIONS=exports.HINGELoss=exports.MSLELoss=exports.WAPELoss=exports.MAPELoss=exports.MAELoss=exports.BinaryLoss=exports.MBELoss=exports.MSELoss=exports.ALL_LOSSES=exports.TrainOptions=exports.EvolveOptions=exports.NoiseNodeType=exports.PoolNodeType=exports.NodeType=exports.GatingType=exports.ConnectionType=exports.Node=exports.Species=exports.Network=exports.Connection=exports.Architect=exports.PoolNode=exports.NoiseNode=exports.DropoutNode=exports.ConstantNode=exports.Layer=exports.MemoryLayer=exports.LSTMLayer=exports.GRULayer=exports.RNNLayer=exports.HopfieldLayer=exports.ActivationLayer=exports.PoolingLayer=exports.GlobalMaxPooling1DLayer=exports.GlobalMinPooling1DLayer=exports.GlobalAvgPooling1DLayer=exports.MaxPooling1DLayer=exports.MinPooling1DLayer=exports.AvgPooling1DLayer=exports.NoiseLayer=exports.OutputLayer=exports.InputLayer=exports.DropoutLayer=exports.DenseLayer=void 0;var e=require("../src/architecture/Architect");Object.defineProperty(exports,"Architect",{enumerable:!0,get:function(){return e.Architect}});var r=require("../src/architecture/Connection");Object.defineProperty(exports,"Connection",{enumerable:!0,get:function(){return r.Connection}});var t=require("../src/architecture/Layers/CoreLayers/ActivationLayer");Object.defineProperty(exports,"ActivationLayer",{enumerable:!0,get:function(){return t.ActivationLayer}});var o=require("../src/architecture/Layers/CoreLayers/DenseLayer");Object.defineProperty(exports,"DenseLayer",{enumerable:!0,get:function(){return o.DenseLayer}});var n=require("../src/architecture/Layers/CoreLayers/DropoutLayer");Object.defineProperty(exports,"DropoutLayer",{enumerable:!0,get:function(){return n.DropoutLayer}});var i=require("../src/architecture/Layers/CoreLayers/InputLayer");Object.defineProperty(exports,"InputLayer",{enumerable:!0,get:function(){return i.InputLayer}});var a=require("../src/architecture/Layers/CoreLayers/OutputLayer");Object.defineProperty(exports,"OutputLayer",{enumerable:!0,get:function(){return a.OutputLayer}});var u=require("../src/architecture/Layers/Layer");Object.defineProperty(exports,"Layer",{enumerable:!0,get:function(){return u.Layer}});var s=require("../src/architecture/Layers/NoiseLayers/NoiseLayer");Object.defineProperty(exports,"NoiseLayer",{enumerable:!0,get:function(){return s.NoiseLayer}});var c=require("../src/architecture/Layers/PoolingLayers/AvgPooling1DLayer");Object.defineProperty(exports,"AvgPooling1DLayer",{enumerable:!0,get:function(){return c.AvgPooling1DLayer}});var p=require("../src/architecture/Layers/PoolingLayers/GlobalAvgPooling1DLayer");Object.defineProperty(exports,"GlobalAvgPooling1DLayer",{enumerable:!0,get:function(){return p.GlobalAvgPooling1DLayer}});var y=require("../src/architecture/Layers/PoolingLayers/GlobalMaxPooling1DLayer");Object.defineProperty(exports,"GlobalMaxPooling1DLayer",{enumerable:!0,get:function(){return y.GlobalMaxPooling1DLayer}});var b=require("../src/architecture/Layers/PoolingLayers/GlobalMinPooling1DLayer");Object.defineProperty(exports,"GlobalMinPooling1DLayer",{enumerable:!0,get:function(){return b.GlobalMinPooling1DLayer}});var l=require("../src/architecture/Layers/PoolingLayers/MaxPooling1DLayer");Object.defineProperty(exports,"MaxPooling1DLayer",{enumerable:!0,get:function(){return l.MaxPooling1DLayer}});var d=require("../src/architecture/Layers/PoolingLayers/MinPooling1DLayer");Object.defineProperty(exports,"MinPooling1DLayer",{enumerable:!0,get:function(){return d.MinPooling1DLayer}});var x=require("../src/architecture/Layers/PoolingLayers/PoolingLayer");Object.defineProperty(exports,"PoolingLayer",{enumerable:!0,get:function(){return x.PoolingLayer}});var f=require("../src/architecture/Layers/RecurrentLayers/GRULayer");Object.defineProperty(exports,"GRULayer",{enumerable:!0,get:function(){return f.GRULayer}});var L=require("../src/architecture/Layers/RecurrentLayers/HopfieldLayer");Object.defineProperty(exports,"HopfieldLayer",{enumerable:!0,get:function(){return L.HopfieldLayer}});var g=require("../src/architecture/Layers/RecurrentLayers/LSTMLayer");Object.defineProperty(exports,"LSTMLayer",{enumerable:!0,get:function(){return g.LSTMLayer}});var P=require("../src/architecture/Layers/RecurrentLayers/MemoryLayer");Object.defineProperty(exports,"MemoryLayer",{enumerable:!0,get:function(){return P.MemoryLayer}});var m=require("../src/architecture/Layers/RecurrentLayers/RNNLayer");Object.defineProperty(exports,"RNNLayer",{enumerable:!0,get:function(){return m.RNNLayer}});var O=require("../src/architecture/Network");Object.defineProperty(exports,"Network",{enumerable:!0,get:function(){return O.Network}});var M=require("../src/architecture/Node");Object.defineProperty(exports,"Node",{enumerable:!0,get:function(){return M.Node}});var j=require("../src/architecture/Nodes/ConstantNode");Object.defineProperty(exports,"ConstantNode",{enumerable:!0,get:function(){return j.ConstantNode}});var N=require("../src/architecture/Nodes/DropoutNode");Object.defineProperty(exports,"DropoutNode",{enumerable:!0,get:function(){return N.DropoutNode}});var S=require("../src/architecture/Nodes/NoiseNode");Object.defineProperty(exports,"NoiseNode",{enumerable:!0,get:function(){return S.NoiseNode}});var v=require("../src/architecture/Nodes/PoolNode");Object.defineProperty(exports,"PoolNode",{enumerable:!0,get:function(){return v.PoolNode}});var A=require("../src/architecture/Species");Object.defineProperty(exports,"Species",{enumerable:!0,get:function(){return A.Species}});var T=require("../src/enums/ConnectionType");Object.defineProperty(exports,"ConnectionType",{enumerable:!0,get:function(){return T.ConnectionType}});var R=require("../src/enums/GatingType");Object.defineProperty(exports,"GatingType",{enumerable:!0,get:function(){return R.GatingType}});var D=require("../src/enums/NodeType");Object.defineProperty(exports,"NodeType",{enumerable:!0,get:function(){return D.NodeType}}),Object.defineProperty(exports,"NoiseNodeType",{enumerable:!0,get:function(){return D.NoiseNodeType}}),Object.defineProperty(exports,"PoolNodeType",{enumerable:!0,get:function(){return D.PoolNodeType}});var E=require("../src/interfaces/EvolveOptions");Object.defineProperty(exports,"EvolveOptions",{enumerable:!0,get:function(){return E.EvolveOptions}});var h=require("../src/interfaces/TrainOptions");Object.defineProperty(exports,"TrainOptions",{enumerable:!0,get:function(){return h.TrainOptions}});var C=require("../src/methods/Loss");Object.defineProperty(exports,"ALL_LOSSES",{enumerable:!0,get:function(){return C.ALL_LOSSES}}),Object.defineProperty(exports,"BinaryLoss",{enumerable:!0,get:function(){return C.BinaryLoss}}),Object.defineProperty(exports,"HINGELoss",{enumerable:!0,get:function(){return C.HINGELoss}}),Object.defineProperty(exports,"MAELoss",{enumerable:!0,get:function(){return C.MAELoss}}),Object.defineProperty(exports,"MAPELoss",{enumerable:!0,get:function(){return C.MAPELoss}}),Object.defineProperty(exports,"MBELoss",{enumerable:!0,get:function(){return C.MBELoss}}),Object.defineProperty(exports,"MSELoss",{enumerable:!0,get:function(){return C.MSELoss}}),Object.defineProperty(exports,"MSLELoss",{enumerable:!0,get:function(){return C.MSLELoss}}),Object.defineProperty(exports,"WAPELoss",{enumerable:!0,get:function(){return C.WAPELoss}});var q=require("../src/methods/Mutation");Object.defineProperty(exports,"AddBackConnectionMutation",{enumerable:!0,get:function(){return q.AddBackConnectionMutation}}),Object.defineProperty(exports,"AddConnectionMutation",{enumerable:!0,get:function(){return q.AddConnectionMutation}}),Object.defineProperty(exports,"AddGateMutation",{enumerable:!0,get:function(){return q.AddGateMutation}}),Object.defineProperty(exports,"AddNodeMutation",{enumerable:!0,get:function(){return q.AddNodeMutation}}),Object.defineProperty(exports,"AddSelfConnectionMutation",{enumerable:!0,get:function(){return q.AddSelfConnectionMutation}}),Object.defineProperty(exports,"ALL_MUTATIONS",{enumerable:!0,get:function(){return q.ALL_MUTATIONS}}),Object.defineProperty(exports,"FEEDFORWARD_MUTATIONS",{enumerable:!0,get:function(){return q.FEEDFORWARD_MUTATIONS}}),Object.defineProperty(exports,"ModActivationMutation",{enumerable:!0,get:function(){return q.ModActivationMutation}}),Object.defineProperty(exports,"ModBiasMutation",{enumerable:!0,get:function(){return q.ModBiasMutation}}),Object.defineProperty(exports,"ModWeightMutation",{enumerable:!0,get:function(){return q.ModWeightMutation}}),Object.defineProperty(exports,"Mutation",{enumerable:!0,get:function(){return q.Mutation}}),Object.defineProperty(exports,"NO_STRUCTURE_MUTATIONS",{enumerable:!0,get:function(){return q.NO_STRUCTURE_MUTATIONS}}),Object.defineProperty(exports,"ONLY_STRUCTURE",{enumerable:!0,get:function(){return q.ONLY_STRUCTURE}}),Object.defineProperty(exports,"SubBackConnectionMutation",{enumerable:!0,get:function(){return q.SubBackConnectionMutation}}),Object.defineProperty(exports,"SubConnectionMutation",{enumerable:!0,get:function(){return q.SubConnectionMutation}}),Object.defineProperty(exports,"SubGateMutation",{enumerable:!0,get:function(){return q.SubGateMutation}}),Object.defineProperty(exports,"SubNodeMutation",{enumerable:!0,get:function(){return q.SubNodeMutation}}),Object.defineProperty(exports,"SubSelfConnectionMutation",{enumerable:!0,get:function(){return q.SubSelfConnectionMutation}}),Object.defineProperty(exports,"SwapNodesMutation",{enumerable:!0,get:function(){return q.SwapNodesMutation}});var G=require("../src/methods/Rate");Object.defineProperty(exports,"ExponentialRate",{enumerable:!0,get:function(){return G.ExponentialRate}}),Object.defineProperty(exports,"FixedRate",{enumerable:!0,get:function(){return G.FixedRate}}),Object.defineProperty(exports,"InverseRate",{enumerable:!0,get:function(){return G.InverseRate}}),Object.defineProperty(exports,"Rate",{enumerable:!0,get:function(){return G.Rate}}),Object.defineProperty(exports,"StepRate",{enumerable:!0,get:function(){return G.StepRate}});var I=require("../src/methods/Selection");Object.defineProperty(exports,"FitnessProportionateSelection",{enumerable:!0,get:function(){return I.FitnessProportionateSelection}}),Object.defineProperty(exports,"PowerSelection",{enumerable:!0,get:function(){return I.PowerSelection}}),Object.defineProperty(exports,"Selection",{enumerable:!0,get:function(){return I.Selection}}),Object.defineProperty(exports,"TournamentSelection",{enumerable:!0,get:function(){return I.TournamentSelection}});var U=require("../src/utils/Utils");Object.defineProperty(exports,"avg",{enumerable:!0,get:function(){return U.avg}}),Object.defineProperty(exports,"generateGaussian",{enumerable:!0,get:function(){return U.generateGaussian}}),Object.defineProperty(exports,"max",{enumerable:!0,get:function(){return U.max}}),Object.defineProperty(exports,"maxValueIndex",{enumerable:!0,get:function(){return U.maxValueIndex}}),Object.defineProperty(exports,"min",{enumerable:!0,get:function(){return U.min}}),Object.defineProperty(exports,"minValueIndex",{enumerable:!0,get:function(){return U.minValueIndex}}),Object.defineProperty(exports,"pickRandom",{enumerable:!0,get:function(){return U.pickRandom}}),Object.defineProperty(exports,"randBoolean",{enumerable:!0,get:function(){return U.randBoolean}}),Object.defineProperty(exports,"randDouble",{enumerable:!0,get:function(){return U.randDouble}}),Object.defineProperty(exports,"randInt",{enumerable:!0,get:function(){return U.randInt}}),Object.defineProperty(exports,"removeFromArray",{enumerable:!0,get:function(){return U.removeFromArray}}),Object.defineProperty(exports,"shuffle",{enumerable:!0,get:function(){return U.shuffle}}),Object.defineProperty(exports,"sum",{enumerable:!0,get:function(){return U.sum}});
},{"../src/architecture/Architect":"../src/architecture/Architect.js","../src/architecture/Connection":"../src/architecture/Connection.js","../src/architecture/Layers/CoreLayers/ActivationLayer":"../src/architecture/Layers/CoreLayers/ActivationLayer.js","../src/architecture/Layers/CoreLayers/DenseLayer":"../src/architecture/Layers/CoreLayers/DenseLayer.js","../src/architecture/Layers/CoreLayers/DropoutLayer":"../src/architecture/Layers/CoreLayers/DropoutLayer.js","../src/architecture/Layers/CoreLayers/InputLayer":"../src/architecture/Layers/CoreLayers/InputLayer.js","../src/architecture/Layers/CoreLayers/OutputLayer":"../src/architecture/Layers/CoreLayers/OutputLayer.js","../src/architecture/Layers/Layer":"../src/architecture/Layers/Layer.js","../src/architecture/Layers/NoiseLayers/NoiseLayer":"../src/architecture/Layers/NoiseLayers/NoiseLayer.js","../src/architecture/Layers/PoolingLayers/AvgPooling1DLayer":"../src/architecture/Layers/PoolingLayers/AvgPooling1DLayer.js","../src/architecture/Layers/PoolingLayers/GlobalAvgPooling1DLayer":"../src/architecture/Layers/PoolingLayers/GlobalAvgPooling1DLayer.js","../src/architecture/Layers/PoolingLayers/GlobalMaxPooling1DLayer":"../src/architecture/Layers/PoolingLayers/GlobalMaxPooling1DLayer.js","../src/architecture/Layers/PoolingLayers/GlobalMinPooling1DLayer":"../src/architecture/Layers/PoolingLayers/GlobalMinPooling1DLayer.js","../src/architecture/Layers/PoolingLayers/MaxPooling1DLayer":"../src/architecture/Layers/PoolingLayers/MaxPooling1DLayer.js","../src/architecture/Layers/PoolingLayers/MinPooling1DLayer":"../src/architecture/Layers/PoolingLayers/MinPooling1DLayer.js","../src/architecture/Layers/PoolingLayers/PoolingLayer":"../src/architecture/Layers/PoolingLayers/PoolingLayer.js","../src/architecture/Layers/RecurrentLayers/GRULayer":"../src/architecture/Layers/RecurrentLayers/GRULayer.js","../src/architecture/Layers/RecurrentLayers/HopfieldLayer":"../src/architecture/Layers/RecurrentLayers/HopfieldLayer.js","../src/architecture/Layers/RecurrentLayers/LSTMLayer":"../src/architecture/Layers/RecurrentLayers/LSTMLayer.js","../src/architecture/Layers/RecurrentLayers/MemoryLayer":"../src/architecture/Layers/RecurrentLayers/MemoryLayer.js","../src/architecture/Layers/RecurrentLayers/RNNLayer":"../src/architecture/Layers/RecurrentLayers/RNNLayer.js","../src/architecture/Network":"../src/architecture/Network.js","../src/architecture/Node":"../src/architecture/Node.js","../src/architecture/Nodes/ConstantNode":"../src/architecture/Nodes/ConstantNode.js","../src/architecture/Nodes/DropoutNode":"../src/architecture/Nodes/DropoutNode.js","../src/architecture/Nodes/NoiseNode":"../src/architecture/Nodes/NoiseNode.js","../src/architecture/Nodes/PoolNode":"../src/architecture/Nodes/PoolNode.js","../src/architecture/Species":"../src/architecture/Species.js","../src/enums/ConnectionType":"../src/enums/ConnectionType.js","../src/enums/GatingType":"../src/enums/GatingType.js","../src/enums/NodeType":"../src/enums/NodeType.js","../src/interfaces/EvolveOptions":"../src/interfaces/EvolveOptions.js","../src/interfaces/TrainOptions":"../src/interfaces/TrainOptions.js","../src/methods/Loss":"../src/methods/Loss.js","../src/methods/Mutation":"../src/methods/Mutation.js","../src/methods/Rate":"../src/methods/Rate.js","../src/methods/Selection":"../src/methods/Selection.js","../src/utils/Utils":"../src/utils/Utils.js"}]},{},["index.js"], "carrot")
//# sourceMappingURL=/index.browser.min.js.map